(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const fe=!1,ue=(e,t)=>e===t,ce=Symbol("solid-track"),U={equals:ue};let ae=ie;const T=1,q=2,Z={owned:null,cleanups:null,context:null,owner:null};var g=null;let H=null,de=null,p=null,b=null,C=null,V=0;function B(e,t){const n=p,r=g,s=e.length===0,i=t===void 0?r:t,o=s?Z:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=s?e:()=>e(()=>L(()=>D(o)));g=o,p=null;try{return I(l,!0)}finally{p=n,g=r}}function M(e,t){t=t?Object.assign({},U,t):U;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),te(n,s));return[ee.bind(n),r]}function O(e,t,n){const r=ne(e,t,!1,T);G(r)}function j(e,t,n){n=n?Object.assign({},U,n):U;const r=ne(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,G(r),ee.bind(r)}function L(e){if(p===null)return e();const t=p;p=null;try{return e()}finally{p=t}}function he(e){return g===null||(g.cleanups===null?g.cleanups=[e]:g.cleanups.push(e)),e}function ee(){if(this.sources&&this.state)if(this.state===T)G(this);else{const e=b;b=null,I(()=>F(this),!1),b=e}if(p){const e=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(e)):(p.sources=[this],p.sourceSlots=[e]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function te(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&I(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],o=H&&H.running;o&&H.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?b.push(i):C.push(i),i.observers&&re(i)),o||(i.state=T)}if(b.length>1e6)throw b=[],new Error},!1)),t}function G(e){if(!e.fn)return;D(e);const t=V;pe(e,e.value,t)}function pe(e,t,n){let r;const s=g,i=p;p=g=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=T,e.owned&&e.owned.forEach(D),e.owned=null),e.updatedAt=n+1,le(o)}finally{p=i,g=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?te(e,r):e.value=r,e.updatedAt=n)}function ne(e,t,n,r=T,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:g,context:g?g.context:null,pure:n};return g===null||g!==Z&&(g.owned?g.owned.push(i):g.owned=[i]),i}function se(e){if(e.state===0)return;if(e.state===q)return F(e);if(e.suspense&&L(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<V);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===T)G(e);else if(e.state===q){const r=b;b=null,I(()=>F(e,t[0]),!1),b=r}}function I(e,t){if(b)return e();let n=!1;t||(b=[]),C?n=!0:C=[],V++;try{const r=e();return ge(n),r}catch(r){n||(C=null),b=null,le(r)}}function ge(e){if(b&&(ie(b),b=null),e)return;const t=C;C=null,t.length&&I(()=>ae(t),!1)}function ie(e){for(let t=0;t<e.length;t++)se(e[t])}function F(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===T?r!==t&&(!r.updatedAt||r.updatedAt<V)&&se(r):s===q&&F(r,t)}}}function re(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=q,n.pure?b.push(n):C.push(n),n.observers&&re(n))}}function D(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),o=n.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)D(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)D(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ye(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function le(e,t=g){throw ye(e)}const me=Symbol("fallback");function X(e){for(let t=0;t<e.length;t++)e[t]()}function be(e,t,n={}){let r=[],s=[],i=[],o=0,l=t.length>1?[]:null;return he(()=>X(i)),()=>{let u=e()||[],c=u.length,d,f;return u[ce],L(()=>{let w,a,y,v,_,S,h,$,A;if(c===0)o!==0&&(X(i),i=[],r=[],s=[],o=0,l&&(l=[])),n.fallback&&(r=[me],s[0]=B(K=>(i[0]=K,n.fallback())),o=1);else if(o===0){for(s=new Array(c),f=0;f<c;f++)r[f]=u[f],s[f]=B(x);o=c}else{for(y=new Array(c),v=new Array(c),l&&(_=new Array(c)),S=0,h=Math.min(o,c);S<h&&r[S]===u[S];S++);for(h=o-1,$=c-1;h>=S&&$>=S&&r[h]===u[$];h--,$--)y[$]=s[h],v[$]=i[h],l&&(_[$]=l[h]);for(w=new Map,a=new Array($+1),f=$;f>=S;f--)A=u[f],d=w.get(A),a[f]=d===void 0?-1:d,w.set(A,f);for(d=S;d<=h;d++)A=r[d],f=w.get(A),f!==void 0&&f!==-1?(y[f]=s[d],v[f]=i[d],l&&(_[f]=l[d]),f=a[f],w.set(A,f)):i[d]();for(f=S;f<c;f++)f in y?(s[f]=y[f],i[f]=v[f],l&&(l[f]=_[f],l[f](f))):s[f]=B(x);s=s.slice(0,o=c),r=u.slice(0)}return s});function x(w){if(i[f]=w,l){const[a,y]=M(f);return l[f]=y,t(u[f],a)}return t(u[f])}}}function E(e,t){return L(()=>e(t||{}))}const we=e=>`Stale read from <${e}>.`;function Se(e){const t="fallback"in e&&{fallback:()=>e.fallback};return j(be(()=>e.each,e.children,t||void 0))}function P(e){const t=e.keyed,n=j(()=>e.when,void 0,void 0),r=t?n:j(n,void 0,{equals:(s,i)=>!s==!i});return j(()=>{const s=r();if(s){const i=e.children;return typeof i=="function"&&i.length>0?L(()=>i(t?s:()=>{if(!L(r))throw we("Show");return n()})):i}return e.fallback},void 0,void 0)}function xe(e,t,n){let r=n.length,s=t.length,i=r,o=0,l=0,u=t[s-1].nextSibling,c=null;for(;o<s||l<i;){if(t[o]===n[l]){o++,l++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const d=i<r?l?n[l-1].nextSibling:n[i-l]:u;for(;l<i;)e.insertBefore(n[l++],d)}else if(i===l)for(;o<s;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[i-1]&&n[l]===t[s-1]){const d=t[--s].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--i],d),t[s]=n[i]}else{if(!c){c=new Map;let f=l;for(;f<i;)c.set(n[f],f++)}const d=c.get(t[o]);if(d!=null)if(l<d&&d<i){let f=o,x=1,w;for(;++f<s&&f<i&&!((w=c.get(t[f]))==null||w!==d+x);)x++;if(x>d-l){const a=t[o];for(;l<d;)e.insertBefore(n[l++],a)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}}const z="_$DX_DELEGATE";function $e(e,t,n,r={}){let s;return B(i=>{s=i,t===document?e():m(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function k(e,t,n,r){let s;const i=()=>{const l=document.createElement("template");return l.innerHTML=e,l.content.firstChild},o=()=>(s||(s=i())).cloneNode(!0);return o.cloneNode=o,o}function ve(e,t=window.document){const n=t[z]||(t[z]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,_e))}}function Ae(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function m(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return R(e,t,r,n);O(s=>R(e,t(),s,n),r)}function _e(e){let t=e.target;const n=`$$${e.type}`,r=e.target,s=e.currentTarget,i=u=>Object.defineProperty(e,"target",{configurable:!0,value:u}),o=()=>{const u=t[n];if(u&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?u.call(t,c,e):u.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},l=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const u=e.composedPath();i(u[0]);for(let c=0;c<u.length-2&&(t=u[c],!!o());c++){if(t._$host){t=t._$host,l();break}if(t.parentNode===s)break}}else l();i(r)}function R(e,t,n,r,s){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(t=t.toString(),t===n))return n;if(o){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=N(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean")n=N(e,n,r);else{if(i==="function")return O(()=>{let l=t();for(;typeof l=="function";)l=l();n=R(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],u=n&&Array.isArray(n);if(W(l,t,n,s))return O(()=>n=R(e,l,n,r,!0)),()=>n;if(l.length===0){if(n=N(e,n,r),o)return n}else u?n.length===0?Y(e,l,r):xe(e,n,l):(n&&N(e),Y(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=N(e,n,r,t);N(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function W(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let l=t[i],u=n&&n[e.length],c;if(!(l==null||l===!0||l===!1))if((c=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))s=W(e,l,u)||s;else if(c==="function")if(r){for(;typeof l=="function";)l=l();s=W(e,Array.isArray(l)?l:[l],Array.isArray(u)?u:[u])||s}else e.push(l),s=!0;else{const d=String(l);u&&u.nodeType===3&&u.data===d?e.push(u):e.push(document.createTextNode(d))}}return s}function Y(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function N(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let i=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(s!==l){const u=l.parentNode===e;!i&&!o?u?e.replaceChild(s,l):e.insertBefore(s,n):u&&l.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}var Ee=k("<p style=color:#888>No tasks yet."),Ce=k('<div style="max-width:900px;margin:0 auto;padding:2rem;font-family:system-ui"><h1>wmao</h1><p>Work my ass off. Manage coding agents.</p><form style=display:flex;gap:0.5rem;margin-bottom:2rem><input type=text placeholder="Describe a task..."style=flex:1;padding:0.5rem><button type=submit></button></form><h2>Tasks'),Te=k("<div style=font-size:0.85rem;color:#555>branch: "),ke=k("<pre style=font-size:0.8rem;background:#f8f9fa;padding:0.5rem>"),Ne=k("<div style=color:red;font-size:0.85rem>"),Oe=k("<span style=font-size:0.8rem;color:#888>$<!> &middot; <!>s &middot; <!> turns"),Le=k('<div style="border:1px solid #ddd;border-radius:6px;padding:1rem;margin-bottom:0.75rem"><div style=display:flex;justify-content:space-between><strong></strong><span style="padding:0.15rem 0.5rem;border-radius:4px;font-size:0.85rem">');function Pe(){const[e,t]=M(""),[n,r]=M([]),[s,i]=M(!1);async function o(){const u=e().trim();if(u){i(!0);try{const c=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u})});if(!c.ok)throw new Error(await c.text());t(""),await l()}finally{i(!1)}}}async function l(){const u=await fetch("/api/tasks");u.ok&&r(await u.json())}return setInterval(l,5e3),l(),(()=>{var u=Ce(),c=u.firstChild,d=c.nextSibling,f=d.nextSibling,x=f.firstChild,w=x.nextSibling;return f.nextSibling,f.addEventListener("submit",a=>{a.preventDefault(),o()}),x.$$input=a=>t(a.currentTarget.value),m(w,()=>s()?"Submitting...":"Run"),m(u,E(P,{get when(){return n().length===0},get children(){return Ee()}}),null),m(u,E(Se,{get each(){return n()},children:a=>(()=>{var y=Le(),v=y.firstChild,_=v.firstChild,S=_.nextSibling;return m(_,()=>a.task),m(S,()=>a.state),m(y,E(P,{get when(){return a.branch},get children(){var h=Te();return h.firstChild,m(h,()=>a.branch,null),h}}),null),m(y,E(P,{get when(){return a.diffStat},get children(){var h=ke();return m(h,()=>a.diffStat),h}}),null),m(y,E(P,{get when(){return a.error},get children(){var h=Ne();return m(h,()=>a.error),h}}),null),m(y,E(P,{get when(){return a.costUSD>0},get children(){var h=Oe(),$=h.firstChild,A=$.nextSibling,K=A.nextSibling,J=K.nextSibling,oe=J.nextSibling,Q=oe.nextSibling;return Q.nextSibling,m(h,()=>a.costUSD.toFixed(4),A),m(h,()=>(a.durationMs/1e3).toFixed(1),J),m(h,()=>a.numTurns,Q),h}}),null),O(h=>Ae(S,"background",a.state==="done"?"#d4edda":a.state==="failed"?"#f8d7da":"#fff3cd")),y})()}),null),O(a=>{var y=s(),v=s()||!e().trim();return y!==a.e&&(x.disabled=a.e=y),v!==a.t&&(w.disabled=a.t=v),a},{e:void 0,t:void 0}),O(()=>x.value=e()),u})()}ve(["input"]);$e(()=>E(Pe,{}),document.getElementById("app"));
