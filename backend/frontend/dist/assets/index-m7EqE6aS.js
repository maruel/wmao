var Pn=Object.defineProperty;var En=(t,e,n)=>e in t?Pn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>En(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const In=!1,Ln=(t,e)=>t===e,qe=Symbol("solid-proxy"),Ut=typeof Proxy=="function",Ft=Symbol("solid-track"),ze={equals:Ln};let Gt=Jt;const ce=1,De=2,Qt={owned:null,cleanups:null,context:null,owner:null};var B=null;let Je=null,On=null,F=null,Z=null,ie=null,Ze=0;function fe(t,e){const n=F,s=B,r=t.length===0,o=e===void 0?s:e,l=r?Qt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},i=r?t:()=>t(()=>K(()=>Re(l)));B=l,F=null;try{return ue(i,!0)}finally{F=n,B=s}}function Q(t,e){e=e?Object.assign({},ze,e):ze;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),Xt(n,r));return[Kt.bind(n),s]}function S(t,e,n){const s=gt(t,e,!1,ce);Pe(s)}function dt(t,e,n){Gt=jn;const s=gt(t,e,!1,ce);s.user=!0,ie?ie.push(s):Pe(s)}function N(t,e,n){n=n?Object.assign({},ze,n):ze;const s=gt(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,Pe(s),Kt.bind(s)}function Mn(t){return ue(t,!1)}function K(t){if(F===null)return t();const e=F;F=null;try{return t()}finally{F=e}}function ft(t,e,n){const s=Array.isArray(t);let r,o=n&&n.defer;return l=>{let i;if(s){i=Array(t.length);for(let c=0;c<t.length;c++)i[c]=t[c]()}else i=t();if(o)return o=!1,l;const a=K(()=>e(i,r,l));return r=i,a}}function Bn(t){dt(()=>K(t))}function ge(t){return B===null||(B.cleanups===null?B.cleanups=[t]:B.cleanups.push(t)),t}function Vt(){return B}function Zt(t,e){const n=B,s=F;B=t,F=null;try{return ue(e,!0)}catch(r){pt(r)}finally{B=n,F=s}}function qn(t){const e=F,n=B;return Promise.resolve().then(()=>{F=e,B=n;let s;return ue(t,!1),F=B=null,s?s.done:void 0})}const[Jl,Yl]=Q(!1);function Ht(t,e){const n=Symbol("context");return{id:n,Provider:Un(n),defaultValue:t}}function Wt(t){let e;return B&&B.context&&(e=B.context[t.id])!==void 0?e:t.defaultValue}function He(t){const e=N(t),n=N(()=>st(e()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function Kt(){if(this.sources&&this.state)if(this.state===ce)Pe(this);else{const t=Z;Z=null,ue(()=>Ne(this),!1),Z=t}if(F){const t=this.observers?this.observers.length:0;F.sources?(F.sources.push(this),F.sourceSlots.push(t)):(F.sources=[this],F.sourceSlots=[t]),this.observers?(this.observers.push(F),this.observerSlots.push(F.sources.length-1)):(this.observers=[F],this.observerSlots=[F.sources.length-1])}return this.value}function Xt(t,e,n){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&ue(()=>{for(let r=0;r<t.observers.length;r+=1){const o=t.observers[r],l=Je&&Je.running;l&&Je.disposed.has(o),(l?!o.tState:!o.state)&&(o.pure?Z.push(o):ie.push(o),o.observers&&Yt(o)),l||(o.state=ce)}if(Z.length>1e6)throw Z=[],new Error},!1)),e}function Pe(t){if(!t.fn)return;Re(t);const e=Ze;zn(t,t.value,e)}function zn(t,e,n){let s;const r=B,o=F;F=B=t;try{s=t.fn(e)}catch(l){return t.pure&&(t.state=ce,t.owned&&t.owned.forEach(Re),t.owned=null),t.updatedAt=n+1,pt(l)}finally{F=o,B=r}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Xt(t,s):t.value=s,t.updatedAt=n)}function gt(t,e,n,s=ce,r){const o={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:B,context:B?B.context:null,pure:n};return B===null||B!==Qt&&(B.owned?B.owned.push(o):B.owned=[o]),o}function je(t){if(t.state===0)return;if(t.state===De)return Ne(t);if(t.suspense&&K(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ze);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===ce)Pe(t);else if(t.state===De){const s=Z;Z=null,ue(()=>Ne(t,e[0]),!1),Z=s}}function ue(t,e){if(Z)return t();let n=!1;e||(Z=[]),ie?n=!0:ie=[],Ze++;try{const s=t();return Dn(n),s}catch(s){n||(ie=null),Z=null,pt(s)}}function Dn(t){if(Z&&(Jt(Z),Z=null),t)return;const e=ie;ie=null,e.length&&ue(()=>Gt(e),!1)}function Jt(t){for(let e=0;e<t.length;e++)je(t[e])}function jn(t){let e,n=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[n++]=s:je(s)}for(e=0;e<n;e++)je(t[e])}function Ne(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const s=t.sources[n];if(s.sources){const r=s.state;r===ce?s!==e&&(!s.updatedAt||s.updatedAt<Ze)&&je(s):r===De&&Ne(s,e)}}}function Yt(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=De,n.pure?Z.push(n):ie.push(n),n.observers&&Yt(n))}}function Re(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),s=t.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),l=n.observerSlots.pop();s<r.length&&(o.sourceSlots[l]=s,r[s]=o,n.observerSlots[s]=l)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)Re(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Re(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Nn(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function pt(t,e=B){throw Nn(t)}function st(t){if(typeof t=="function"&&!t.length)return st(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const s=st(t[n]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return t}function Un(t,e){return function(s){let r;return S(()=>r=K(()=>(B.context={...B.context,[t]:s.value},He(()=>s.children))),void 0),r}}const it=Symbol("fallback");function Ue(t){for(let e=0;e<t.length;e++)t[e]()}function Fn(t,e,n={}){let s=[],r=[],o=[],l=0,i=e.length>1?[]:null;return ge(()=>Ue(o)),()=>{let a=t()||[],c=a.length,u,d;return a[Ft],K(()=>{let h,p,f,k,_,w,C,y,v;if(c===0)l!==0&&(Ue(o),o=[],s=[],r=[],l=0,i&&(i=[])),n.fallback&&(s=[it],r[0]=fe(A=>(o[0]=A,n.fallback())),l=1);else if(l===0){for(r=new Array(c),d=0;d<c;d++)s[d]=a[d],r[d]=fe(g);l=c}else{for(f=new Array(c),k=new Array(c),i&&(_=new Array(c)),w=0,C=Math.min(l,c);w<C&&s[w]===a[w];w++);for(C=l-1,y=c-1;C>=w&&y>=w&&s[C]===a[y];C--,y--)f[y]=r[C],k[y]=o[C],i&&(_[y]=i[C]);for(h=new Map,p=new Array(y+1),d=y;d>=w;d--)v=a[d],u=h.get(v),p[d]=u===void 0?-1:u,h.set(v,d);for(u=w;u<=C;u++)v=s[u],d=h.get(v),d!==void 0&&d!==-1?(f[d]=r[u],k[d]=o[u],i&&(_[d]=i[u]),d=p[d],h.set(v,d)):o[u]();for(d=w;d<c;d++)d in f?(r[d]=f[d],o[d]=k[d],i&&(i[d]=_[d],i[d](d))):r[d]=fe(g);r=r.slice(0,l=c),s=a.slice(0)}return r});function g(h){if(o[d]=h,i){const[p,f]=Q(d);return i[d]=f,e(a[d],p)}return e(a[d])}}}function Gn(t,e,n={}){let s=[],r=[],o=[],l=[],i=0,a;return ge(()=>Ue(o)),()=>{const c=t()||[],u=c.length;return c[Ft],K(()=>{if(u===0)return i!==0&&(Ue(o),o=[],s=[],r=[],i=0,l=[]),n.fallback&&(s=[it],r[0]=fe(g=>(o[0]=g,n.fallback())),i=1),r;for(s[0]===it&&(o[0](),o=[],s=[],r=[],i=0),a=0;a<u;a++)a<s.length&&s[a]!==c[a]?l[a](()=>c[a]):a>=s.length&&(r[a]=fe(d));for(;a<s.length;a++)o[a]();return i=l.length=o.length=u,s=c.slice(0),r=r.slice(0,i)});function d(g){o[a]=g;const[h,p]=Q(c[a]);return l[a]=p,e(h,a)}}}function m(t,e){return K(()=>t(e||{}))}function Le(){return!0}const lt={get(t,e,n){return e===qe?n:t.get(e)},has(t,e){return e===qe?!0:t.has(e)},set:Le,deleteProperty:Le,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Le,deleteProperty:Le}},ownKeys(t){return t.keys()}};function Ye(t){return(t=typeof t=="function"?t():t)?t:{}}function Qn(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function en(...t){let e=!1;for(let l=0;l<t.length;l++){const i=t[l];e=e||!!i&&qe in i,t[l]=typeof i=="function"?(e=!0,N(i)):i}if(Ut&&e)return new Proxy({get(l){for(let i=t.length-1;i>=0;i--){const a=Ye(t[i])[l];if(a!==void 0)return a}},has(l){for(let i=t.length-1;i>=0;i--)if(l in Ye(t[i]))return!0;return!1},keys(){const l=[];for(let i=0;i<t.length;i++)l.push(...Object.keys(Ye(t[i])));return[...new Set(l)]}},lt);const n={},s=Object.create(null);for(let l=t.length-1;l>=0;l--){const i=t[l];if(!i)continue;const a=Object.getOwnPropertyNames(i);for(let c=a.length-1;c>=0;c--){const u=a[c];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(i,u);if(!s[u])s[u]=d.get?{enumerable:!0,configurable:!0,get:Qn.bind(n[u]=[d.get.bind(i)])}:d.value!==void 0?d:void 0;else{const g=n[u];g&&(d.get?g.push(d.get.bind(i)):d.value!==void 0&&g.push(()=>d.value))}}}const r={},o=Object.keys(s);for(let l=o.length-1;l>=0;l--){const i=o[l],a=s[i];a&&a.get?Object.defineProperty(r,i,a):r[i]=a?a.value:void 0}return r}function Vn(t,...e){const n=e.length;if(Ut&&qe in t){const r=n>1?e.flat():e[0],o=e.map(l=>new Proxy({get(i){return l.includes(i)?t[i]:void 0},has(i){return l.includes(i)&&i in t},keys(){return l.filter(i=>i in t)}},lt));return o.push(new Proxy({get(l){return r.includes(l)?void 0:t[l]},has(l){return r.includes(l)?!1:l in t},keys(){return Object.keys(t).filter(l=>!r.includes(l))}},lt)),o}const s=[];for(let r=0;r<=n;r++)s[r]={};for(const r of Object.getOwnPropertyNames(t)){let o=n;for(let a=0;a<e.length;a++)if(e[a].includes(r)){o=a;break}const l=Object.getOwnPropertyDescriptor(t,r);!l.get&&!l.set&&l.enumerable&&l.writable&&l.configurable?s[o][r]=l.value:Object.defineProperty(s[o],r,l)}return s}const tn=t=>`Stale read from <${t}>.`;function ae(t){const e="fallback"in t&&{fallback:()=>t.fallback};return N(Fn(()=>t.each,t.children,e||void 0))}function nn(t){const e="fallback"in t&&{fallback:()=>t.fallback};return N(Gn(()=>t.each,t.children,e||void 0))}function z(t){const e=t.keyed,n=N(()=>t.when,void 0,void 0),s=e?n:N(n,void 0,{equals:(r,o)=>!r==!o});return N(()=>{const r=s();if(r){const o=t.children;return typeof o=="function"&&o.length>0?K(()=>o(e?r:()=>{if(!K(s))throw tn("Show");return n()})):o}return t.fallback},void 0,void 0)}function We(t){const e=He(()=>t.children),n=N(()=>{const s=e(),r=Array.isArray(s)?s:[s];let o=()=>{};for(let l=0;l<r.length;l++){const i=l,a=r[l],c=o,u=N(()=>c()?void 0:a.when,void 0,void 0),d=a.keyed?u:N(u,void 0,{equals:(g,h)=>!g==!h});o=()=>c()||(d()?[i,u,a]:void 0)}return o});return N(()=>{const s=n()();if(!s)return t.fallback;const[r,o,l]=s,i=l.children;return typeof i=="function"&&i.length>0?K(()=>i(l.keyed?o():()=>{var c;if(((c=K(n)())==null?void 0:c[0])!==r)throw tn("Match");return o()})):i},void 0,void 0)}function J(t){return t}const Zn=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Hn=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...Zn]),Wn=new Set(["innerHTML","textContent","innerText","children"]),Kn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Xn=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Jn(t,e){const n=Xn[t];return typeof n=="object"?n[e]?n.$:void 0:n}const Yn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),le=t=>N(()=>t());function er(t,e,n){let s=n.length,r=e.length,o=s,l=0,i=0,a=e[r-1].nextSibling,c=null;for(;l<r||i<o;){if(e[l]===n[i]){l++,i++;continue}for(;e[r-1]===n[o-1];)r--,o--;if(r===l){const u=o<s?i?n[i-1].nextSibling:n[o-i]:a;for(;i<o;)t.insertBefore(n[i++],u)}else if(o===i)for(;l<r;)(!c||!c.has(e[l]))&&e[l].remove(),l++;else if(e[l]===n[o-1]&&n[i]===e[r-1]){const u=e[--r].nextSibling;t.insertBefore(n[i++],e[l++].nextSibling),t.insertBefore(n[--o],u),e[r]=n[o]}else{if(!c){c=new Map;let d=i;for(;d<o;)c.set(n[d],d++)}const u=c.get(e[l]);if(u!=null)if(i<u&&u<o){let d=l,g=1,h;for(;++d<r&&d<o&&!((h=c.get(e[d]))==null||h!==u+g);)g++;if(g>u-i){const p=e[l];for(;i<u;)t.insertBefore(n[i++],p)}else t.replaceChild(n[i++],e[l++])}else l++;else e[l++].remove()}}}const Rt="_$DX_DELEGATE";function tr(t,e,n,s={}){let r;return fe(o=>{r=o,e===document?t():b(e,t(),e.firstChild?null:void 0,n)},s.owner),()=>{r(),e.textContent=""}}function I(t,e,n,s){let r;const o=()=>{const i=document.createElement("template");return i.innerHTML=t,i.content.firstChild},l=()=>(r||(r=o())).cloneNode(!0);return l.cloneNode=l,l}function ke(t,e=window.document){const n=e[Rt]||(e[Rt]=new Set);for(let s=0,r=t.length;s<r;s++){const o=t[s];n.has(o)||(n.add(o),e.addEventListener(o,ur))}}function Ce(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function nr(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)}function x(t,e){e==null?t.removeAttribute("class"):t.className=e}function rr(t,e,n,s){if(s)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const r=n[0];t.addEventListener(e,n[0]=o=>r.call(t,n[1],o))}else t.addEventListener(e,n,typeof n!="function"&&n)}function sr(t,e,n={}){const s=Object.keys(e||{}),r=Object.keys(n);let o,l;for(o=0,l=r.length;o<l;o++){const i=r[o];!i||i==="undefined"||e[i]||(Ct(t,i,!1),delete n[i])}for(o=0,l=s.length;o<l;o++){const i=s[o],a=!!e[i];!i||i==="undefined"||n[i]===a||!a||(Ct(t,i,!0),n[i]=a)}return n}function ir(t,e,n){if(!e)return n?Ce(t,"style"):e;const s=t.style;if(typeof e=="string")return s.cssText=e;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),e||(e={});let r,o;for(o in n)e[o]==null&&s.removeProperty(o),delete n[o];for(o in e)r=e[o],r!==n[o]&&(s.setProperty(o,r),n[o]=r);return n}function lr(t,e,n){n!=null?t.style.setProperty(e,n):t.style.removeProperty(e)}function or(t,e={},n,s){const r={};return S(()=>typeof e.ref=="function"&&rn(e.ref,t)),S(()=>ar(t,e,n,!0,r,!0)),r}function rn(t,e,n){return K(()=>t(e,n))}function b(t,e,n,s){if(n!==void 0&&!s&&(s=[]),typeof e!="function")return Fe(t,e,s,n);S(r=>Fe(t,e(),r,n),s)}function ar(t,e,n,s,r={},o=!1){e||(e={});for(const l in r)if(!(l in e)){if(l==="children")continue;r[l]=Pt(t,l,null,r[l],n,o,e)}for(const l in e){if(l==="children")continue;const i=e[l];r[l]=Pt(t,l,i,r[l],n,o,e)}}function cr(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Ct(t,e,n){const s=e.trim().split(/\s+/);for(let r=0,o=s.length;r<o;r++)t.classList.toggle(s[r],n)}function Pt(t,e,n,s,r,o,l){let i,a,c,u,d;if(e==="style")return ir(t,n,s);if(e==="classList")return sr(t,n,s);if(n===s)return s;if(e==="ref")o||n(t);else if(e.slice(0,3)==="on:"){const g=e.slice(3);s&&t.removeEventListener(g,s,typeof s!="function"&&s),n&&t.addEventListener(g,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const g=e.slice(10);s&&t.removeEventListener(g,s,!0),n&&t.addEventListener(g,n,!0)}else if(e.slice(0,2)==="on"){const g=e.slice(2).toLowerCase(),h=Yn.has(g);if(!h&&s){const p=Array.isArray(s)?s[0]:s;t.removeEventListener(g,p)}(h||n)&&(rr(t,g,n,h),h&&ke([g]))}else e.slice(0,5)==="attr:"?Ce(t,e.slice(5),n):e.slice(0,5)==="bool:"?nr(t,e.slice(5),n):(d=e.slice(0,5)==="prop:")||(c=Wn.has(e))||(u=Jn(e,t.tagName))||(a=Hn.has(e))||(i=t.nodeName.includes("-")||"is"in l)?(d&&(e=e.slice(5),a=!0),e==="class"||e==="className"?x(t,n):i&&!a&&!c?t[cr(e)]=n:t[u||e]=n):Ce(t,Kn[e]||e,n);return n}function ur(t){let e=t.target;const n=`$$${t.type}`,s=t.target,r=t.currentTarget,o=a=>Object.defineProperty(t,"target",{configurable:!0,value:a}),l=()=>{const a=e[n];if(a&&!e.disabled){const c=e[`${n}Data`];if(c!==void 0?a.call(e,c,t):a.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&o(e.host),!0},i=()=>{for(;l()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const a=t.composedPath();o(a[0]);for(let c=0;c<a.length-2&&(e=a[c],!!l());c++){if(e._$host){e=e._$host,i();break}if(e.parentNode===r)break}}else i();o(s)}function Fe(t,e,n,s,r){for(;typeof n=="function";)n=n();if(e===n)return n;const o=typeof e,l=s!==void 0;if(t=l&&n[0]&&n[0].parentNode||t,o==="string"||o==="number"){if(o==="number"&&(e=e.toString(),e===n))return n;if(l){let i=n[0];i&&i.nodeType===3?i.data!==e&&(i.data=e):i=document.createTextNode(e),n=xe(t,n,s,i)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||o==="boolean")n=xe(t,n,s);else{if(o==="function")return S(()=>{let i=e();for(;typeof i=="function";)i=i();n=Fe(t,i,n,s)}),()=>n;if(Array.isArray(e)){const i=[],a=n&&Array.isArray(n);if(ot(i,e,n,r))return S(()=>n=Fe(t,i,n,s,!0)),()=>n;if(i.length===0){if(n=xe(t,n,s),l)return n}else a?n.length===0?Et(t,i,s):er(t,n,i):(n&&xe(t),Et(t,i));n=i}else if(e.nodeType){if(Array.isArray(n)){if(l)return n=xe(t,n,s,e);xe(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function ot(t,e,n,s){let r=!1;for(let o=0,l=e.length;o<l;o++){let i=e[o],a=n&&n[t.length],c;if(!(i==null||i===!0||i===!1))if((c=typeof i)=="object"&&i.nodeType)t.push(i);else if(Array.isArray(i))r=ot(t,i,a)||r;else if(c==="function")if(s){for(;typeof i=="function";)i=i();r=ot(t,Array.isArray(i)?i:[i],Array.isArray(a)?a:[a])||r}else t.push(i),r=!0;else{const u=String(i);a&&a.nodeType===3&&a.data===u?t.push(a):t.push(document.createTextNode(u))}}return r}function Et(t,e,n=null){for(let s=0,r=e.length;s<r;s++)t.insertBefore(e[s],n)}function xe(t,e,n,s){if(n===void 0)return t.textContent="";const r=s||document.createTextNode("");if(e.length){let o=!1;for(let l=e.length-1;l>=0;l--){const i=e[l];if(r!==i){const a=i.parentNode===t;!o&&!l?a?t.replaceChild(r,i):t.insertBefore(r,n):a&&i.remove()}else o=!0}}else t.insertBefore(r,n);return[r]}const hr=!1;function sn(){let t=new Set;function e(r){return t.add(r),()=>t.delete(r)}let n=!1;function s(r,o){if(n)return!(n=!1);const l={to:r,options:o,defaultPrevented:!1,preventDefault:()=>l.defaultPrevented=!0};for(const i of t)i.listener({...l,from:i.location,retry:a=>{a&&(n=!0),i.navigate(r,{...o,resolve:!1})}});return!l.defaultPrevented}return{subscribe:e,confirm:s}}let at;function kt(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),at=window.history.state._depth}kt();function dr(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function fr(t,e){let n=!1;return()=>{const s=at;kt();const r=s==null?null:at-s;if(n){n=!1;return}r&&e(r)?(n=!0,window.history.go(-r)):t()}}const gr=/^(?:[a-z0-9]+:)?\/\//i,pr=/^\/+|(\/)\/+$/g,ln="http://sr";function Te(t,e=!1){const n=t.replace(pr,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function Be(t,e,n){if(gr.test(e))return;const s=Te(t),r=n&&Te(n);let o="";return!r||e.startsWith("/")?o=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?o=s+r:o=r,(o||"/")+Te(e,!o)}function kr(t,e){if(t==null)throw new Error(e);return t}function mr(t,e){return Te(t).replace(/\/*(\*.*)?$/g,"")+Te(e)}function on(t){const e={};return t.searchParams.forEach((n,s)=>{s in e?Array.isArray(e[s])?e[s].push(n):e[s]=[e[s],n]:e[s]=n}),e}function br(t,e,n){const[s,r]=t.split("/*",2),o=s.split("/").filter(Boolean),l=o.length;return i=>{const a=i.split("/").filter(Boolean),c=a.length-l;if(c<0||c>0&&r===void 0&&!e)return null;const u={path:l?"":"/",params:{}},d=g=>n===void 0?void 0:n[g];for(let g=0;g<l;g++){const h=o[g],p=h[0]===":",f=p?a[g]:a[g].toLowerCase(),k=p?h.slice(1):h.toLowerCase();if(p&&et(f,d(k)))u.params[k]=f;else if(p||!et(f,k))return null;u.path+=`/${f}`}if(r){const g=c?a.slice(-c).join("/"):"";if(et(g,d(r)))u.params[r]=g;else return null}return u}}function et(t,e){const n=s=>s===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function wr(t){const[e,n]=t.pattern.split("/*",2),s=e.split("/").filter(Boolean);return s.reduce((r,o)=>r+(o.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function an(t){const e=new Map,n=Vt();return new Proxy({},{get(s,r){return e.has(r)||Zt(n,()=>e.set(r,N(()=>t()[r]))),e.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())},has(s,r){return r in t()}})}function cn(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),s=t.slice(e.index+e[0].length);const r=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=e[1]),s=s.slice(e[0].length);return cn(s).reduce((o,l)=>[...o,...r.map(i=>i+l)],[])}const xr=100,un=Ht(),hn=Ht(),dn=()=>kr(Wt(un),"<A> and 'use' router primitives can be only used inside a Route."),yr=()=>dn().navigatorFactory(),vr=()=>dn().location;function _r(t,e=""){const{component:n,preload:s,load:r,children:o,info:l}=t,i=!o||Array.isArray(o)&&!o.length,a={key:t,component:n,preload:s||r,info:l};return fn(t.path).reduce((c,u)=>{for(const d of cn(u)){const g=mr(e,d);let h=i?g:g.split("/*",1)[0];h=h.split("/").map(p=>p.startsWith(":")||p.startsWith("*")?p:encodeURIComponent(p)).join("/"),c.push({...a,originalPath:u,pattern:h,matcher:br(h,!i,t.matchFilters)})}return c},[])}function $r(t,e=0){return{routes:t,score:wr(t[t.length-1])*1e4-e,matcher(n){const s=[];for(let r=t.length-1;r>=0;r--){const o=t[r],l=o.matcher(n);if(!l)return null;s.unshift({...l,route:o})}return s}}}function fn(t){return Array.isArray(t)?t:[t]}function gn(t,e="",n=[],s=[]){const r=fn(t);for(let o=0,l=r.length;o<l;o++){const i=r[o];if(i&&typeof i=="object"){i.hasOwnProperty("path")||(i.path="");const a=_r(i,e);for(const c of a){n.push(c);const u=Array.isArray(i.children)&&i.children.length===0;if(i.children&&!u)gn(i.children,c.pattern,n,s);else{const d=$r([...n],s.length);s.push(d)}n.pop()}}}return n.length?s:s.sort((o,l)=>l.score-o.score)}function tt(t,e){for(let n=0,s=t.length;n<s;n++){const r=t[n].matcher(e);if(r)return r}return[]}function Sr(t,e,n){const s=new URL(ln),r=N(u=>{const d=t();try{return new URL(d,s)}catch{return console.error(`Invalid path ${d}`),u}},s,{equals:(u,d)=>u.href===d.href}),o=N(()=>r().pathname),l=N(()=>r().search,!0),i=N(()=>r().hash),a=()=>"",c=ft(l,()=>on(r()));return{get pathname(){return o()},get search(){return l()},get hash(){return i()},get state(){return e()},get key(){return a()},query:n?n(c):an(c)}}let de;function Tr(){return de}function Ar(t,e,n,s={}){const{signal:[r,o],utils:l={}}=t,i=l.parsePath||(R=>R),a=l.renderPath||(R=>R),c=l.beforeLeave||sn(),u=Be("",s.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!r().value&&o({value:u,replace:!0,scroll:!1});const[d,g]=Q(!1);let h;const p=(R,O)=>{O.value===f()&&O.state===_()||(h===void 0&&g(!0),de=R,h=O,qn(()=>{h===O&&(k(h.value),w(h.state),v[1](E=>E.filter(H=>H.pending)))}).finally(()=>{h===O&&Mn(()=>{de=void 0,R==="navigate"&&G(h),g(!1),h=void 0})}))},[f,k]=Q(r().value),[_,w]=Q(r().state),C=Sr(f,_,l.queryWrapper),y=[],v=Q([]),A=N(()=>typeof s.transformUrl=="function"?tt(e(),s.transformUrl(C.pathname)):tt(e(),C.pathname)),$=()=>{const R=A(),O={};for(let E=0;E<R.length;E++)Object.assign(O,R[E].params);return O},q=l.paramsWrapper?l.paramsWrapper($,e):an($),L={pattern:u,path:()=>u,outlet:()=>null,resolvePath(R){return Be(u,R)}};return S(ft(r,R=>p("native",R),{defer:!0})),{base:L,location:C,params:q,isRouting:d,renderPath:a,parsePath:i,navigatorFactory:U,matches:A,beforeLeave:c,preloadRoute:P,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:v};function V(R,O,E){K(()=>{if(typeof O=="number"){O&&(l.go?l.go(O):console.warn("Router integration does not support relative routing"));return}const H=!O||O[0]==="?",{replace:Y,resolve:ee,scroll:we,state:oe}={replace:!1,resolve:!H,scroll:!0,...E},Ie=ee?R.resolvePath(O):Be(H&&C.pathname||"",O);if(Ie===void 0)throw new Error(`Path '${O}' is not a routable path`);if(y.length>=xr)throw new Error("Too many redirects");const At=f();(Ie!==At||oe!==_())&&(hr||c.confirm(Ie,E)&&(y.push({value:At,replace:Y,scroll:we,state:_()}),p("navigate",{value:Ie,state:oe})))})}function U(R){return R=R||Wt(hn)||L,(O,E)=>V(R,O,E)}function G(R){const O=y[0];O&&(o({...R,replace:O.replace,scroll:O.scroll}),y.length=0)}function P(R,O){const E=tt(e(),R.pathname),H=de;de="preload";for(let Y in E){const{route:ee,params:we}=E[Y];ee.component&&ee.component.preload&&ee.component.preload();const{preload:oe}=ee;O&&oe&&Zt(n(),()=>oe({params:we,location:{pathname:R.pathname,search:R.search,hash:R.hash,query:on(R),state:null,key:""},intent:"preload"}))}de=H}}function Rr(t,e,n,s){const{base:r,location:o,params:l}=t,{pattern:i,component:a,preload:c}=s().route,u=N(()=>s().path);a&&a.preload&&a.preload();const d=c?c({params:l,location:o,intent:de||"initial"}):void 0;return{parent:e,pattern:i,path:u,outlet:()=>a?m(a,{params:l,location:o,data:d,get children(){return n()}}):n(),resolvePath(h){return Be(r.path(),h,u())}}}const Cr=t=>e=>{const{base:n}=e,s=He(()=>e.children),r=N(()=>gn(s(),e.base||""));let o;const l=Ar(t,r,()=>o,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(l),m(un.Provider,{value:l,get children(){return m(Pr,{routerState:l,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[le(()=>(o=Vt())&&null),m(Er,{routerState:l,get branches(){return r()}})]}})}})};function Pr(t){const e=t.routerState.location,n=t.routerState.params,s=N(()=>t.preload&&K(()=>{t.preload({params:n,location:e,intent:Tr()||"initial"})}));return m(z,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:r=>m(r,{params:n,location:e,get data(){return s()},get children(){return t.children}})})}function Er(t){const e=[];let n;const s=N(ft(t.routerState.matches,(r,o,l)=>{let i=o&&r.length===o.length;const a=[];for(let c=0,u=r.length;c<u;c++){const d=o&&o[c],g=r[c];l&&d&&g.route.key===d.route.key?a[c]=l[c]:(i=!1,e[c]&&e[c](),fe(h=>{e[c]=h,a[c]=Rr(t.routerState,a[c-1]||t.routerState.base,It(()=>s()[c+1]),()=>{const p=t.routerState.matches();return p[c]??p[0]})}))}return e.splice(r.length).forEach(c=>c()),l&&i?l:(n=a[0],a)}));return It(()=>s()&&n)()}const It=t=>()=>m(z,{get when(){return t()},keyed:!0,children:e=>m(hn.Provider,{value:e,get children(){return e.outlet()}})}),Ir=t=>{const e=He(()=>t.children);return en(t,{get children(){return e()}})};function Lr([t,e],n,s){return[t,s?r=>e(s(r)):e]}function Or(t){let e=!1;const n=r=>typeof r=="string"?{value:r}:r,s=Lr(Q(n(t.get()),{equals:(r,o)=>r.value===o.value&&r.state===o.state}),void 0,r=>(!e&&t.set(r),r));return t.init&&ge(t.init((r=t.get())=>{e=!0,s[1](n(r)),e=!1})),Cr({signal:s,create:t.create,utils:t.utils})}function Mr(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function Br(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const qr=new Map;function zr(t=!0,e=!1,n="/_server",s){return r=>{const o=r.base.path(),l=r.navigatorFactory(r.base);let i,a;function c(f){return f.namespaceURI==="http://www.w3.org/2000/svg"}function u(f){if(f.defaultPrevented||f.button!==0||f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)return;const k=f.composedPath().find(A=>A instanceof Node&&A.nodeName.toUpperCase()==="A");if(!k||e&&!k.hasAttribute("link"))return;const _=c(k),w=_?k.href.baseVal:k.href;if((_?k.target.baseVal:k.target)||!w&&!k.hasAttribute("state"))return;const y=(k.getAttribute("rel")||"").split(/\s+/);if(k.hasAttribute("download")||y&&y.includes("external"))return;const v=_?new URL(w,document.baseURI):new URL(w);if(!(v.origin!==window.location.origin||o&&v.pathname&&!v.pathname.toLowerCase().startsWith(o.toLowerCase())))return[k,v]}function d(f){const k=u(f);if(!k)return;const[_,w]=k,C=r.parsePath(w.pathname+w.search+w.hash),y=_.getAttribute("state");f.preventDefault(),l(C,{resolve:!1,replace:_.hasAttribute("replace"),scroll:!_.hasAttribute("noscroll"),state:y?JSON.parse(y):void 0})}function g(f){const k=u(f);if(!k)return;const[_,w]=k;s&&(w.pathname=s(w.pathname)),r.preloadRoute(w,_.getAttribute("preload")!=="false")}function h(f){clearTimeout(i);const k=u(f);if(!k)return a=null;const[_,w]=k;a!==_&&(s&&(w.pathname=s(w.pathname)),i=setTimeout(()=>{r.preloadRoute(w,_.getAttribute("preload")!=="false"),a=_},20))}function p(f){if(f.defaultPrevented)return;let k=f.submitter&&f.submitter.hasAttribute("formaction")?f.submitter.getAttribute("formaction"):f.target.getAttribute("action");if(!k)return;if(!k.startsWith("https://action/")){const w=new URL(k,ln);if(k=r.parsePath(w.pathname+w.search),!k.startsWith(n))return}if(f.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const _=qr.get(k);if(_){f.preventDefault();const w=new FormData(f.target,f.submitter);_.call({r,f:f.target},f.target.enctype==="multipart/form-data"?w:new URLSearchParams(w))}}ke(["click","submit"]),document.addEventListener("click",d),t&&(document.addEventListener("mousemove",h,{passive:!0}),document.addEventListener("focusin",g,{passive:!0}),document.addEventListener("touchstart",g,{passive:!0})),document.addEventListener("submit",p),ge(()=>{document.removeEventListener("click",d),t&&(document.removeEventListener("mousemove",h),document.removeEventListener("focusin",g),document.removeEventListener("touchstart",g)),document.removeEventListener("submit",p)})}}function Dr(t){const e=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,r=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:r}},n=sn();return Or({get:e,set({value:s,replace:r,scroll:o,state:l}){r?window.history.replaceState(dr(l),"",s):window.history.pushState(l,"",s),Br(decodeURIComponent(window.location.hash.slice(1)),o),kt()},init:s=>Mr(window,"popstate",fr(s,r=>{if(r)return!n.confirm(r);{const o=e();return!n.confirm(o.value,{state:o.state})}})),create:zr(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:n}})(t)}class jr extends Error{constructor(e,n,s){super(n),this.status=e,this.code=n,this.details=s}}async function me(t,e,n){const s={method:t,headers:{"Content-Type":"application/json"}};n!==void 0&&(s.body=JSON.stringify(n));const r=await fetch(e,s);if(!r.ok){const o=await r.json();throw new jr(r.status,o.error.code,o.details)}return r.json()}function Nr(){return me("GET","/api/v1/repos")}function Ur(){return me("GET","/api/v1/tasks")}function Fr(t){return me("POST","/api/v1/tasks",t)}function Gr(t,e){const n=new EventSource(`/api/v1/tasks/${t}/events`);return n.addEventListener("message",s=>{e(JSON.parse(s.data))}),n}function Lt(t,e){return me("POST",`/api/v1/tasks/${t}/input`,e)}function Qr(t){return me("POST",`/api/v1/tasks/${t}/terminate`)}function Vr(t){return me("POST",`/api/v1/tasks/${t}/pull`)}function Zr(t){return me("POST",`/api/v1/tasks/${t}/push`)}function mt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var be=mt();function pn(t){be=t}var Ae={exec:()=>null};function M(t,e=""){let n=typeof t=="string"?t:t.source,s={replace:(r,o)=>{let l=typeof o=="string"?o:o.source;return l=l.replace(W.caret,"$1"),n=n.replace(r,l),s},getRegex:()=>new RegExp(n,e)};return s}var Hr=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),W={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Wr=/^(?:[ \t]*(?:\n|$))+/,Kr=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Xr=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ee=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Jr=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bt=/(?:[*+-]|\d{1,9}[.)])/,kn=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,mn=M(kn).replace(/bull/g,bt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Yr=M(kn).replace(/bull/g,bt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),wt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,es=/^[^\n]+/,xt=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,ts=M(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",xt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ns=M(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bt).getRegex(),Ke="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",yt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,rs=M("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",yt).replace("tag",Ke).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),bn=M(wt).replace("hr",Ee).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke).getRegex(),ss=M(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",bn).getRegex(),vt={blockquote:ss,code:Kr,def:ts,fences:Xr,heading:Jr,hr:Ee,html:rs,lheading:mn,list:ns,newline:Wr,paragraph:bn,table:Ae,text:es},Ot=M("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ee).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke).getRegex(),is={...vt,lheading:Yr,table:Ot,paragraph:M(wt).replace("hr",Ee).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ot).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke).getRegex()},ls={...vt,html:M(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",yt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ae,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:M(wt).replace("hr",Ee).replace("heading",` *#{1,6} *[^
]`).replace("lheading",mn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},os=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,as=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,wn=/^( {2,}|\\)\n(?!\s*$)/,cs=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Xe=/[\p{P}\p{S}]/u,_t=/[\s\p{P}\p{S}]/u,xn=/[^\s\p{P}\p{S}]/u,us=M(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,_t).getRegex(),yn=/(?!~)[\p{P}\p{S}]/u,hs=/(?!~)[\s\p{P}\p{S}]/u,ds=/(?:[^\s\p{P}\p{S}]|~)/u,fs=M(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Hr?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),vn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,gs=M(vn,"u").replace(/punct/g,Xe).getRegex(),ps=M(vn,"u").replace(/punct/g,yn).getRegex(),_n="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ks=M(_n,"gu").replace(/notPunctSpace/g,xn).replace(/punctSpace/g,_t).replace(/punct/g,Xe).getRegex(),ms=M(_n,"gu").replace(/notPunctSpace/g,ds).replace(/punctSpace/g,hs).replace(/punct/g,yn).getRegex(),bs=M("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,xn).replace(/punctSpace/g,_t).replace(/punct/g,Xe).getRegex(),ws=M(/\\(punct)/,"gu").replace(/punct/g,Xe).getRegex(),xs=M(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ys=M(yt).replace("(?:-->|$)","-->").getRegex(),vs=M("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ys).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ge=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,_s=M(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ge).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),$n=M(/^!?\[(label)\]\[(ref)\]/).replace("label",Ge).replace("ref",xt).getRegex(),Sn=M(/^!?\[(ref)\](?:\[\])?/).replace("ref",xt).getRegex(),$s=M("reflink|nolink(?!\\()","g").replace("reflink",$n).replace("nolink",Sn).getRegex(),Mt=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,$t={_backpedal:Ae,anyPunctuation:ws,autolink:xs,blockSkip:fs,br:wn,code:as,del:Ae,emStrongLDelim:gs,emStrongRDelimAst:ks,emStrongRDelimUnd:bs,escape:os,link:_s,nolink:Sn,punctuation:us,reflink:$n,reflinkSearch:$s,tag:vs,text:cs,url:Ae},Ss={...$t,link:M(/^!?\[(label)\]\((.*?)\)/).replace("label",Ge).getRegex(),reflink:M(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ge).getRegex()},ct={...$t,emStrongRDelimAst:ms,emStrongLDelim:ps,url:M(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Mt).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:M(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Mt).getRegex()},Ts={...ct,br:M(wn).replace("{2,}","*").getRegex(),text:M(ct.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Oe={normal:vt,gfm:is,pedantic:ls},_e={normal:$t,gfm:ct,breaks:Ts,pedantic:Ss},As={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bt=t=>As[t];function se(t,e){if(e){if(W.escapeTest.test(t))return t.replace(W.escapeReplace,Bt)}else if(W.escapeTestNoEncode.test(t))return t.replace(W.escapeReplaceNoEncode,Bt);return t}function qt(t){try{t=encodeURI(t).replace(W.percentDecode,"%")}catch{return null}return t}function zt(t,e){var o;let n=t.replace(W.findPipe,(l,i,a)=>{let c=!1,u=i;for(;--u>=0&&a[u]==="\\";)c=!c;return c?"|":" |"}),s=n.split(W.splitPipe),r=0;if(s[0].trim()||s.shift(),s.length>0&&!((o=s.at(-1))!=null&&o.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;r<s.length;r++)s[r]=s[r].trim().replace(W.slashPipe,"|");return s}function $e(t,e,n){let s=t.length;if(s===0)return"";let r=0;for(;r<s&&t.charAt(s-r-1)===e;)r++;return t.slice(0,s-r)}function Rs(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return n>0?-2:-1}function Dt(t,e,n,s,r){let o=e.href,l=e.title||null,i=t[1].replace(r.other.outputLinkReplace,"$1");s.state.inLink=!0;let a={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:o,title:l,text:i,tokens:s.inlineTokens(i)};return s.state.inLink=!1,a}function Cs(t,e,n){let s=t.match(n.other.indentCodeCompensation);if(s===null)return e;let r=s[1];return e.split(`
`).map(o=>{let l=o.match(n.other.beginningSpace);if(l===null)return o;let[i]=l;return i.length>=r.length?o.slice(r.length):o}).join(`
`)}var Qe=class{constructor(t){D(this,"options");D(this,"rules");D(this,"lexer");this.options=t||be}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:$e(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],s=Cs(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:s}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let s=$e(n,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(n=s.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:$e(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=$e(e[0],`
`).split(`
`),s="",r="",o=[];for(;n.length>0;){let l=!1,i=[],a;for(a=0;a<n.length;a++)if(this.rules.other.blockquoteStart.test(n[a]))i.push(n[a]),l=!0;else if(!l)i.push(n[a]);else break;n=n.slice(a);let c=i.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${c}`:c,r=r?`${r}
${u}`:u;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,o,!0),this.lexer.state.top=d,n.length===0)break;let g=o.at(-1);if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){let h=g,p=h.raw+`
`+n.join(`
`),f=this.blockquote(p);o[o.length-1]=f,s=s.substring(0,s.length-h.raw.length)+f.raw,r=r.substring(0,r.length-h.text.length)+f.text;break}else if((g==null?void 0:g.type)==="list"){let h=g,p=h.raw+`
`+n.join(`
`),f=this.list(p);o[o.length-1]=f,s=s.substring(0,s.length-g.raw.length)+f.raw,r=r.substring(0,r.length-h.raw.length)+f.raw,n=p.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:o,text:r}}}list(t){var n,s;let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim(),o=r.length>1,l={type:"list",raw:"",ordered:o,start:o?+r.slice(0,-1):"",loose:!1,items:[]};r=o?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=o?r:"[*+-]");let i=this.rules.other.listItemRegex(r),a=!1;for(;t;){let u=!1,d="",g="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;d=e[0],t=t.substring(d.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,_=>" ".repeat(3*_.length)),p=t.split(`
`,1)[0],f=!h.trim(),k=0;if(this.options.pedantic?(k=2,g=h.trimStart()):f?k=e[1].length+1:(k=e[2].search(this.rules.other.nonSpaceChar),k=k>4?1:k,g=h.slice(k),k+=e[1].length),f&&this.rules.other.blankLine.test(p)&&(d+=p+`
`,t=t.substring(p.length+1),u=!0),!u){let _=this.rules.other.nextBulletRegex(k),w=this.rules.other.hrRegex(k),C=this.rules.other.fencesBeginRegex(k),y=this.rules.other.headingBeginRegex(k),v=this.rules.other.htmlBeginRegex(k);for(;t;){let A=t.split(`
`,1)[0],$;if(p=A,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),$=p):$=p.replace(this.rules.other.tabCharGlobal,"    "),C.test(p)||y.test(p)||v.test(p)||_.test(p)||w.test(p))break;if($.search(this.rules.other.nonSpaceChar)>=k||!p.trim())g+=`
`+$.slice(k);else{if(f||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||C.test(h)||y.test(h)||w.test(h))break;g+=`
`+p}!f&&!p.trim()&&(f=!0),d+=A+`
`,t=t.substring(A.length+1),h=$.slice(k)}}l.loose||(a?l.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(a=!0)),l.items.push({type:"list_item",raw:d,task:!!this.options.gfm&&this.rules.other.listIsTask.test(g),loose:!1,text:g,tokens:[]}),l.raw+=d}let c=l.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let u of l.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){if(u.text=u.text.replace(this.rules.other.listReplaceTask,""),((n=u.tokens[0])==null?void 0:n.type)==="text"||((s=u.tokens[0])==null?void 0:s.type)==="paragraph"){u.tokens[0].raw=u.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),u.tokens[0].text=u.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let g=this.lexer.inlineQueue.length-1;g>=0;g--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[g].src)){this.lexer.inlineQueue[g].src=this.lexer.inlineQueue[g].src.replace(this.rules.other.listReplaceTask,"");break}}let d=this.rules.other.listTaskCheckbox.exec(u.raw);if(d){let g={type:"checkbox",raw:d[0]+" ",checked:d[0]!=="[ ]"};u.checked=g.checked,l.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=g.raw+u.tokens[0].raw,u.tokens[0].text=g.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(g)):u.tokens.unshift({type:"paragraph",raw:g.raw,text:g.raw,tokens:[g]}):u.tokens.unshift(g)}}if(!l.loose){let d=u.tokens.filter(h=>h.type==="space"),g=d.length>0&&d.some(h=>this.rules.other.anyLine.test(h.raw));l.loose=g}}if(l.loose)for(let u of l.items){u.loose=!0;for(let d of u.tokens)d.type==="text"&&(d.type="paragraph")}return l}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:s,title:r}}}table(t){var l;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=zt(e[1]),s=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(l=e[3])!=null&&l.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===s.length){for(let i of s)this.rules.other.tableAlignRight.test(i)?o.align.push("right"):this.rules.other.tableAlignCenter.test(i)?o.align.push("center"):this.rules.other.tableAlignLeft.test(i)?o.align.push("left"):o.align.push(null);for(let i=0;i<n.length;i++)o.header.push({text:n[i],tokens:this.lexer.inline(n[i]),header:!0,align:o.align[i]});for(let i of r)o.rows.push(zt(i,o.header.length).map((a,c)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:o.align[c]})));return o}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let o=$e(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{let o=Rs(e[2],"()");if(o===-2)return;if(o>-1){let l=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let s=e[2],r="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(s);o&&(s=o[1],r=o[3])}else r=e[3]?e[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?s=s.slice(1):s=s.slice(1,-1)),Dt(e,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let s=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=e[s.toLowerCase()];if(!r){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return Dt(n,r,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let s=this.rules.inline.emStrongLDelim.exec(t);if(!(!s||s[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!n||this.rules.inline.punctuation.exec(n))){let r=[...s[0]].length-1,o,l,i=r,a=0,c=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+r);(s=c.exec(e))!=null;){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(l=[...o].length,s[3]||s[4]){i+=l;continue}else if((s[5]||s[6])&&r%3&&!((r+l)%3)){a+=l;continue}if(i-=l,i>0)continue;l=Math.min(l,l+i+a);let u=[...s[0]][0].length,d=t.slice(0,r+s.index+u+l);if(Math.min(r,l)%2){let h=d.slice(1,-1);return{type:"em",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}let g=d.slice(2,-2);return{type:"strong",raw:d,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(n),r=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return s&&r&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,s;return e[2]==="@"?(n=e[1],s="mailto:"+n):(n=e[1],s=n),{type:"link",raw:e[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let s,r;if(e[2]==="@")s=e[0],r="mailto:"+s;else{let o;do o=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(o!==e[0]);s=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},ne=class ut{constructor(e){D(this,"tokens");D(this,"options");D(this,"state");D(this,"inlineQueue");D(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||be,this.options.tokenizer=this.options.tokenizer||new Qe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:W,block:Oe.normal,inline:_e.normal};this.options.pedantic?(n.block=Oe.pedantic,n.inline=_e.pedantic):this.options.gfm&&(n.block=Oe.gfm,this.options.breaks?n.inline=_e.breaks:n.inline=_e.gfm),this.tokenizer.rules=n}static get rules(){return{block:Oe,inline:_e}}static lex(e,n){return new ut(n).lex(e)}static lexInline(e,n){return new ut(n).inlineTokens(e)}lex(e){e=e.replace(W.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let s=this.inlineQueue[n];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],s=!1){var r,o,l;for(this.options.pedantic&&(e=e.replace(W.tabCharGlobal,"    ").replace(W.spaceLine,""));e;){let i;if((o=(r=this.options.extensions)==null?void 0:r.block)!=null&&o.some(c=>(i=c.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let c=n.at(-1);i.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+i.raw,c.text+=`
`+i.text,this.inlineQueue.at(-1).src=c.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+i.raw,c.text+=`
`+i.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let a=e;if((l=this.options.extensions)!=null&&l.startBlock){let c=1/0,u=e.slice(1),d;this.options.extensions.startBlock.forEach(g=>{d=g.call({lexer:this},u),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(a=e.substring(0,c+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){let c=n.at(-1);s&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+i.raw,c.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(i),s=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+i.raw,c.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(i);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var a,c,u,d,g;let s=e,r=null;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)h.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,r.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)o=r[2]?r[2].length:0,s=s.slice(0,r.index+o)+"["+"a".repeat(r[0].length-o-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);s=((c=(a=this.options.hooks)==null?void 0:a.emStrongMask)==null?void 0:c.call({lexer:this},s))??s;let l=!1,i="";for(;e;){l||(i=""),l=!1;let h;if((d=(u=this.options.extensions)==null?void 0:u.inline)!=null&&d.some(f=>(h=f.call({lexer:this},e,n))?(e=e.substring(h.raw.length),n.push(h),!0):!1))continue;if(h=this.tokenizer.escape(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.tag(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.link(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(h.raw.length);let f=n.at(-1);h.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=h.raw,f.text+=h.text):n.push(h);continue}if(h=this.tokenizer.emStrong(e,s,i)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.codespan(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.br(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.del(e)){e=e.substring(h.raw.length),n.push(h);continue}if(h=this.tokenizer.autolink(e)){e=e.substring(h.raw.length),n.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(e))){e=e.substring(h.raw.length),n.push(h);continue}let p=e;if((g=this.options.extensions)!=null&&g.startInline){let f=1/0,k=e.slice(1),_;this.options.extensions.startInline.forEach(w=>{_=w.call({lexer:this},k),typeof _=="number"&&_>=0&&(f=Math.min(f,_))}),f<1/0&&f>=0&&(p=e.substring(0,f+1))}if(h=this.tokenizer.inlineText(p)){e=e.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(i=h.raw.slice(-1)),l=!0;let f=n.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=h.raw,f.text+=h.text):n.push(h);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},Ve=class{constructor(t){D(this,"options");D(this,"parser");this.options=t||be}space(t){return""}code({text:t,lang:e,escaped:n}){var o;let s=(o=(e||"").match(W.notSpaceStart))==null?void 0:o[0],r=t.replace(W.endingNewline,"")+`
`;return s?'<pre><code class="language-'+se(s)+'">'+(n?r:se(r,!0))+`</code></pre>
`:"<pre><code>"+(n?r:se(r,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,s="";for(let l=0;l<t.items.length;l++){let i=t.items[l];s+=this.listitem(i)}let r=e?"ol":"ul",o=e&&n!==1?' start="'+n+'"':"";return"<"+r+o+`>
`+s+"</"+r+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let r=0;r<t.header.length;r++)n+=this.tablecell(t.header[r]);e+=this.tablerow({text:n});let s="";for(let r=0;r<t.rows.length;r++){let o=t.rows[r];n="";for(let l=0;l<o.length;l++)n+=this.tablecell(o[l]);s+=this.tablerow({text:n})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${se(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let s=this.parser.parseInline(n),r=qt(t);if(r===null)return s;t=r;let o='<a href="'+t+'"';return e&&(o+=' title="'+se(e)+'"'),o+=">"+s+"</a>",o}image({href:t,title:e,text:n,tokens:s}){s&&(n=this.parser.parseInline(s,this.parser.textRenderer));let r=qt(t);if(r===null)return se(n);t=r;let o=`<img src="${t}" alt="${n}"`;return e&&(o+=` title="${se(e)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:se(t.text)}},St=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},re=class ht{constructor(e){D(this,"options");D(this,"renderer");D(this,"textRenderer");this.options=e||be,this.options.renderer=this.options.renderer||new Ve,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new St}static parse(e,n){return new ht(n).parse(e)}static parseInline(e,n){return new ht(n).parseInline(e)}parse(e){var s,r;let n="";for(let o=0;o<e.length;o++){let l=e[o];if((r=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&r[l.type]){let a=l,c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){n+=c||"";continue}}let i=l;switch(i.type){case"space":{n+=this.renderer.space(i);break}case"hr":{n+=this.renderer.hr(i);break}case"heading":{n+=this.renderer.heading(i);break}case"code":{n+=this.renderer.code(i);break}case"table":{n+=this.renderer.table(i);break}case"blockquote":{n+=this.renderer.blockquote(i);break}case"list":{n+=this.renderer.list(i);break}case"checkbox":{n+=this.renderer.checkbox(i);break}case"html":{n+=this.renderer.html(i);break}case"def":{n+=this.renderer.def(i);break}case"paragraph":{n+=this.renderer.paragraph(i);break}case"text":{n+=this.renderer.text(i);break}default:{let a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(e,n=this.renderer){var r,o;let s="";for(let l=0;l<e.length;l++){let i=e[l];if((o=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&o[i.type]){let c=this.options.extensions.renderers[i.type].call({parser:this},i);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){s+=c||"";continue}}let a=i;switch(a.type){case"escape":{s+=n.text(a);break}case"html":{s+=n.html(a);break}case"link":{s+=n.link(a);break}case"image":{s+=n.image(a);break}case"checkbox":{s+=n.checkbox(a);break}case"strong":{s+=n.strong(a);break}case"em":{s+=n.em(a);break}case"codespan":{s+=n.codespan(a);break}case"br":{s+=n.br(a);break}case"del":{s+=n.del(a);break}case"text":{s+=n.text(a);break}default:{let c='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}},Me,Se=(Me=class{constructor(t){D(this,"options");D(this,"block");this.options=t||be}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?ne.lex:ne.lexInline}provideParser(){return this.block?re.parse:re.parseInline}},D(Me,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),D(Me,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Me),Tn=class{constructor(...t){D(this,"defaults",mt());D(this,"options",this.setOptions);D(this,"parse",this.parseMarkdown(!0));D(this,"parseInline",this.parseMarkdown(!1));D(this,"Parser",re);D(this,"Renderer",Ve);D(this,"TextRenderer",St);D(this,"Lexer",ne);D(this,"Tokenizer",Qe);D(this,"Hooks",Se);this.use(...t)}walkTokens(t,e){var s,r;let n=[];for(let o of t)switch(n=n.concat(e.call(this,o)),o.type){case"table":{let l=o;for(let i of l.header)n=n.concat(this.walkTokens(i.tokens,e));for(let i of l.rows)for(let a of i)n=n.concat(this.walkTokens(a.tokens,e));break}case"list":{let l=o;n=n.concat(this.walkTokens(l.items,e));break}default:{let l=o;(r=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&r[l.type]?this.defaults.extensions.childTokens[l.type].forEach(i=>{let a=l[i].flat(1/0);n=n.concat(this.walkTokens(a,e))}):l.tokens&&(n=n.concat(this.walkTokens(l.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let s={...n};if(s.async=this.defaults.async||s.async||!1,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let o=e.renderers[r.name];o?e.renderers[r.name]=function(...l){let i=r.renderer.apply(this,l);return i===!1&&(i=o.apply(this,l)),i}:e.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=e[r.level];o?o.unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),s.extensions=e),n.renderer){let r=this.defaults.renderer||new Ve(this.defaults);for(let o in n.renderer){if(!(o in r))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let l=o,i=n.renderer[l],a=r[l];r[l]=(...c)=>{let u=i.apply(r,c);return u===!1&&(u=a.apply(r,c)),u||""}}s.renderer=r}if(n.tokenizer){let r=this.defaults.tokenizer||new Qe(this.defaults);for(let o in n.tokenizer){if(!(o in r))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let l=o,i=n.tokenizer[l],a=r[l];r[l]=(...c)=>{let u=i.apply(r,c);return u===!1&&(u=a.apply(r,c)),u}}s.tokenizer=r}if(n.hooks){let r=this.defaults.hooks||new Se;for(let o in n.hooks){if(!(o in r))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let l=o,i=n.hooks[l],a=r[l];Se.passThroughHooks.has(o)?r[l]=c=>{if(this.defaults.async&&Se.passThroughHooksRespectAsync.has(o))return(async()=>{let d=await i.call(r,c);return a.call(r,d)})();let u=i.call(r,c);return a.call(r,u)}:r[l]=(...c)=>{if(this.defaults.async)return(async()=>{let d=await i.apply(r,c);return d===!1&&(d=await a.apply(r,c)),d})();let u=i.apply(r,c);return u===!1&&(u=a.apply(r,c)),u}}s.hooks=r}if(n.walkTokens){let r=this.defaults.walkTokens,o=n.walkTokens;s.walkTokens=function(l){let i=[];return i.push(o.call(this,l)),r&&(i=i.concat(r.call(this,l))),i}}this.defaults={...this.defaults,...s}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return ne.lex(t,e??this.defaults)}parser(t,e){return re.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let s={...n},r={...this.defaults,...s},o=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&s.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=t),r.async)return(async()=>{let l=r.hooks?await r.hooks.preprocess(e):e,i=await(r.hooks?await r.hooks.provideLexer():t?ne.lex:ne.lexInline)(l,r),a=r.hooks?await r.hooks.processAllTokens(i):i;r.walkTokens&&await Promise.all(this.walkTokens(a,r.walkTokens));let c=await(r.hooks?await r.hooks.provideParser():t?re.parse:re.parseInline)(a,r);return r.hooks?await r.hooks.postprocess(c):c})().catch(o);try{r.hooks&&(e=r.hooks.preprocess(e));let l=(r.hooks?r.hooks.provideLexer():t?ne.lex:ne.lexInline)(e,r);r.hooks&&(l=r.hooks.processAllTokens(l)),r.walkTokens&&this.walkTokens(l,r.walkTokens);let i=(r.hooks?r.hooks.provideParser():t?re.parse:re.parseInline)(l,r);return r.hooks&&(i=r.hooks.postprocess(i)),i}catch(l){return o(l)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let s="<p>An error occurred:</p><pre>"+se(n.message+"",!0)+"</pre>";return e?Promise.resolve(s):s}if(e)return Promise.reject(n);throw n}}},pe=new Tn;function j(t,e){return pe.parse(t,e)}j.options=j.setOptions=function(t){return pe.setOptions(t),j.defaults=pe.defaults,pn(j.defaults),j};j.getDefaults=mt;j.defaults=be;j.use=function(...t){return pe.use(...t),j.defaults=pe.defaults,pn(j.defaults),j};j.walkTokens=function(t,e){return pe.walkTokens(t,e)};j.parseInline=pe.parseInline;j.Parser=re;j.parser=re.parse;j.Renderer=Ve;j.TextRenderer=St;j.Lexer=ne;j.lexer=ne.lex;j.Tokenizer=Qe;j.Hooks=Se;j.parse=j;j.options;j.setOptions;j.use;j.walkTokens;j.parseInline;re.parse;ne.lex;var Ps=I("<textarea rows=1 style=field-sizing:content>");function Es(t){t.style.overflow="hidden",t.style.height="auto",t.style.height=t.scrollHeight+"px",t.style.overflow=""}function Tt(t){let e;const n=r=>{t.onInput(r.currentTarget.value),Es(r.currentTarget)},s=r=>{r.key==="Enter"&&!r.shiftKey&&t.onSubmit&&(r.preventDefault(),t.onSubmit())};return dt(r=>{const o=t.value;return o===""&&r!==""&&e&&(e.style.height=""),o},""),(()=>{var r=Ps();r.$$keydown=s,r.$$input=n;var o=e;return typeof o=="function"?rn(o,r):e=r,S(l=>{var i=t.placeholder,a=t.disabled,c=t.class;return i!==l.e&&Ce(r,"placeholder",l.e=i),a!==l.t&&(r.disabled=l.t=a),c!==l.a&&x(r,l.a=c),l},{e:void 0,t:void 0,a:void 0}),S(()=>r.value=t.value),r})()}ke(["input","keydown"]);const Is="_btn_42mm7_1",Ls="_primary_42mm7_16",Os="_gray_42mm7_24",Ms="_red_42mm7_32",Bs="_green_42mm7_40",qs="_spinner_42mm7_48",zs="_spin_42mm7_48",nt={btn:Is,primary:Ls,gray:Os,red:Ms,green:Bs,spinner:qs,spin:zs};var Ds=I("<span>"),js=I("<button>");function ye(t){const[e,n]=Vn(t,["variant","class","loading","disabled","children"]),s=()=>e.variant??"primary";return(()=>{var r=js();return or(r,en({get class(){return`${nt.btn} ${nt[s()]}${e.class?` ${e.class}`:""}`},get disabled(){return e.disabled||e.loading}},n),!1),b(r,m(z,{get when(){return e.loading},get children(){return[(()=>{var o=Ds();return S(()=>x(o,nt.spinner)),o})()," "]}}),null),b(r,()=>e.children,null),r})()}const Ns="_container_1a700_3",Us="_header_1a700_9",Fs="_query_1a700_21",Gs="_messageArea_1a700_29",Qs="_placeholder_1a700_40",Vs="_inputForm_1a700_44",Zs="_textInput_1a700_51",Hs="_actionError_1a700_62",Ws="_systemInit_1a700_68",Ks="_systemMsg_1a700_74",Xs="_assistantMsg_1a700_80",Js="_markdown_1a700_89",Ys="_result_1a700_189",ei="_resultSuccess_1a700_196",ti="_resultError_1a700_200",ni="_resultMeta_1a700_204",ri="_resultText_1a700_210",si="_toolGroup_1a700_225",ii="_toolGroupInner_1a700_238",li="_toolBlock_1a700_242",oi="_toolBlockPre_1a700_254",ai="_elidedTurn_1a700_261",ci="_elidedTurnInner_1a700_274",ui="_toolDuration_1a700_278",hi="_toolError_1a700_284",di="_toolErrorPre_1a700_291",fi="_usageMeta_1a700_302",gi="_askGroup_1a700_308",pi="_askGroupActive_1a700_316",ki="_askQuestion_1a700_321",mi="_askHeader_1a700_329",bi="_askText_1a700_337",wi="_askOptions_1a700_342",xi="_askChip_1a700_348",yi="_askChipSelected_1a700_366",vi="_askChipLabel_1a700_371",_i="_askChipDesc_1a700_375",$i="_askOtherInput_1a700_381",Si="_askSubmit_1a700_397",Ti="_askSubmitted_1a700_412",Ai="_closeBtn_1a700_439",T={container:Ns,header:Us,query:Fs,messageArea:Gs,placeholder:Qs,inputForm:Vs,textInput:Zs,actionError:Hs,systemInit:Ws,systemMsg:Ks,assistantMsg:Xs,markdown:Js,result:Ys,resultSuccess:ei,resultError:ti,resultMeta:ni,resultText:ri,toolGroup:si,toolGroupInner:ii,toolBlock:li,toolBlockPre:oi,elidedTurn:ai,elidedTurnInner:ci,toolDuration:ui,toolError:hi,toolErrorPre:di,usageMeta:fi,askGroup:gi,askGroupActive:pi,askQuestion:ki,askHeader:mi,askText:bi,askOptions:wi,askChip:xi,askChipSelected:yi,askChipLabel:vi,askChipDesc:_i,askOtherInput:$i,askSubmit:Si,askSubmitted:Ti,closeBtn:Ai};var Ri=I("<p>Waiting for agent output..."),Ci=I("<form>"),ve=I("<div>"),Pi=I("<div><div><h3>Task #</h3></div><div></div><div>"),Ei=I("<div>Session started &middot; <!> &middot; "),Ii=I("<div>[<!>]"),Li=I("<div> &middot; <!>in + <!>out"),Oi=I("<div><strong></strong><div>$<!> &middot; <!>s &middot; <!> turns &middot; <!> tokens"),Mi=I("<details><summary> tools: </summary><div>"),Bi=I("<details><summary></summary><div>"),qi=I("<div><div>"),An=I("<span>"),zi=I("<span> error"),Di=I("<pre>"),ji=I("<details><summary></summary><pre>"),Ni=I("<button>Submit"),Ui=I("<div>Answer submitted"),Fi=I("<div><div></div><div><button><span>Other"),Gi=I("<button><span>");function Qi(t){const[e,n]=Q([]),[s,r]=Q(""),[o,l]=Q(!1),[i,a]=Q(null),[c,u]=Q(null);dt(()=>{const f=t.taskId;let k=null,_=null,w=500,C=[],y=!1;function v(){C=[],y=!1,k=Gr(f,A=>{y?n($=>[...$,A]):C.push(A)}),k.addEventListener("open",()=>{w=500,y=!0,n(C)}),k.onerror=()=>{k==null||k.close(),k=null,!(y&&e().length>0)&&(_=setTimeout(v,w),w=Math.min(w*1.5,4e3))}}v(),ge(()=>{k==null||k.close(),_!==null&&clearTimeout(_)})});async function d(){const f=s().trim();if(f){l(!0);try{await Lt(t.taskId,{prompt:f}),r("")}finally{l(!1)}}}const g=()=>{const f=t.taskState;return f==="running"||f==="branching"||f==="provisioning"||f==="starting"||f==="waiting"||f==="asking"||f==="terminating"},h=()=>t.taskState==="waiting"||t.taskState==="asking";async function p(f,k){if(!i()){a(f),u(null);try{await k()}catch(_){const w=_ instanceof Error?_.message:"Unknown error";u(`${f} failed: ${w}`),setTimeout(()=>u(null),5e3)}finally{a(null)}}}return(()=>{var f=Pi(),k=f.firstChild,_=k.firstChild;_.firstChild;var w=k.nextSibling,C=w.nextSibling;return b(_,()=>t.taskId,null),b(k,m(ye,{variant:"gray",get class(){return T.closeBtn},onClick:()=>t.onClose(),children:"Close"}),null),b(w,()=>t.taskQuery),b(C,()=>{const y=N(()=>Vi(e())),v=N(()=>Zi(y())),A=N(()=>{const q=y();for(let L=q.length-1;L>=0;L--)if(q[L].kind==="ask")return L;return-1});async function $(q){l(!0);try{await Lt(t.taskId,{prompt:q})}finally{l(!1)}}return m(nn,{get each(){return v()},children:(q,L)=>{const V=()=>L===v().length-1;return m(z,{get when(){return V()},get fallback(){return m(Xi,{get turn(){return q()}})},get children(){return m(ae,{get each(){return q().groups},children:U=>m(We,{get children(){return[m(J,{get when(){return le(()=>U.kind==="ask")()&&U.ask},keyed:!0,children:G=>m(el,{ask:G,get interactive(){return le(()=>!!h())()&&U===y()[A()]},onSubmit:$})}),m(J,{get when(){return U.kind==="tool"},get children(){return m(Cn,{get toolCalls(){return U.toolCalls}})}}),m(J,{get when(){return U.kind==="text"||U.kind==="other"},get children(){return m(ae,{get each(){return U.events},children:G=>m(Rn,{ev:G})})}})]}})})}})}})},null),b(C,m(z,{get when(){return e().length===0},get children(){var y=Ri();return S(()=>x(y,T.placeholder)),y}}),null),b(f,m(z,{get when(){return g()||!!i()},get children(){return[(()=>{var y=Ci();return y.addEventListener("submit",v=>{v.preventDefault(),d()}),b(y,m(Tt,{get value(){return s()},onInput:r,onSubmit:d,placeholder:"Send message to agent...",get disabled(){return o()},get class(){return T.textInput}}),null),b(y,m(ye,{type:"submit",get disabled(){return o()||!s().trim()},children:"Send"}),null),b(y,m(ye,{type:"button",variant:"gray",get loading(){return i()==="pull"},get disabled(){return!!i()},onClick:()=>{const v=t.taskId;p("pull",()=>Vr(v))},children:"Pull"}),null),b(y,m(ye,{type:"button",variant:"gray",get loading(){return i()==="push"},get disabled(){return!!i()},onClick:()=>{const v=t.taskId;p("push",()=>Zr(v))},children:"Push"}),null),b(y,m(ye,{type:"button",variant:"red",get loading(){return i()==="terminate"},get disabled(){return!!i()},onClick:()=>{const v=t.taskId;p("terminate",()=>Qr(v))},children:"Terminate"}),null),S(()=>x(y,T.inputForm)),y})(),m(z,{get when(){return c()},get children(){var y=ve();return b(y,c),S(()=>x(y,T.actionError)),y}})]}}),null),S(y=>{var v=T.container,A=T.header,$=T.query,q=T.messageArea;return v!==y.e&&x(f,y.e=v),A!==y.t&&x(k,y.t=A),$!==y.a&&x(w,y.a=$),q!==y.o&&x(C,y.o=q),y},{e:void 0,t:void 0,a:void 0,o:void 0}),f})()}function Rn(t){return m(We,{get children(){return[m(J,{get when(){return t.ev.init},keyed:!0,children:e=>(()=>{var n=Ei(),s=n.firstChild,r=s.nextSibling;return r.nextSibling,b(n,()=>e.model,r),b(n,()=>e.claudeCodeVersion,null),S(()=>x(n,T.systemInit)),n})()}),m(J,{get when(){return t.ev.system},keyed:!0,children:e=>(()=>{var n=Ii(),s=n.firstChild,r=s.nextSibling;return r.nextSibling,b(n,()=>e.subtype,r),S(()=>x(n,T.systemMsg)),n})()}),m(J,{get when(){return t.ev.text},keyed:!0,children:e=>(()=>{var n=ve();return b(n,m(Yi,{get text(){return e.text}})),S(()=>x(n,T.assistantMsg)),n})()}),m(J,{get when(){return t.ev.usage},keyed:!0,children:e=>(()=>{var n=Li(),s=n.firstChild,r=s.nextSibling,o=r.nextSibling,l=o.nextSibling;return l.nextSibling,b(n,()=>e.model,s),b(n,()=>e.inputTokens,r),b(n,()=>e.outputTokens,l),b(n,m(z,{get when(){return e.cacheReadInputTokens>0},get children(){return[" ","· ",le(()=>e.cacheReadInputTokens)," cache"]}}),null),S(()=>x(n,T.usageMeta)),n})()}),m(J,{get when(){return t.ev.result},keyed:!0,children:e=>(()=>{var n=Oi(),s=n.firstChild,r=s.nextSibling,o=r.firstChild,l=o.nextSibling,i=l.nextSibling,a=i.nextSibling,c=a.nextSibling,u=c.nextSibling,d=u.nextSibling,g=d.nextSibling;return g.nextSibling,b(s,()=>e.isError?"Error":"Done"),b(n,m(z,{get when(){return e.result},get children(){var h=ve();return b(h,()=>e.result),S(()=>x(h,T.resultText)),h}}),r),b(r,()=>e.totalCostUSD.toFixed(4),l),b(r,()=>(e.durationMs/1e3).toFixed(1),a),b(r,()=>e.numTurns,u),b(r,()=>e.usage.inputTokens+e.usage.outputTokens,g),S(h=>{var p=`${T.result} ${e.isError?T.resultError:T.resultSuccess}`,f=T.resultMeta;return p!==h.e&&x(n,h.e=p),f!==h.t&&x(r,h.t=f),h},{e:void 0,t:void 0}),n})()})]}})}function Vi(t){const e=[];function n(){return e[e.length-1]}for(const s of t)switch(s.kind){case"text":e.push({kind:"text",events:[s],toolCalls:[]});break;case"toolUse":{if(s.toolUse){const r=n(),o={use:s.toolUse};r&&r.kind==="tool"?(r.events.push(s),r.toolCalls.push(o)):e.push({kind:"tool",events:[s],toolCalls:[o]})}break}case"toolResult":{if(s.toolResult){const r=n();if(r&&r.kind==="tool"){r.events.push(s);const o=s.toolResult,l=r.toolCalls.find(i=>i.use.toolUseID===o.toolUseID&&!i.result);l&&(l.result=s.toolResult)}else e.push({kind:"tool",events:[s],toolCalls:[]})}break}case"ask":s.ask&&e.push({kind:"ask",events:[s],toolCalls:[],ask:s.ask});break;case"usage":{const r=n();r&&(r.kind==="text"||r.kind==="tool")?r.events.push(s):e.push({kind:"other",events:[s],toolCalls:[]})}break;default:e.push({kind:"other",events:[s],toolCalls:[]});break}return e}function Zi(t){const e=[];let n=[],s=0,r=0;function o(){n.length>0&&(e.push({groups:n,toolCount:s,textCount:r}),n=[],s=0,r=0)}for(const l of t)n.push(l),l.kind==="tool"?s+=l.toolCalls.length:l.kind==="text"&&r++,l.kind==="other"&&l.events.some(i=>i.kind==="result")&&o();return o(),e}function Hi(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(1)}s`}function Wi(t){const e=new Map;for(const n of t){const s=n.use.name;e.set(s,(e.get(s)??0)+1)}return Array.from(e.entries()).map(([n,s])=>s>1?`${n} ×${s}`:n).join(", ")}function Cn(t){const e=()=>t.toolCalls;return m(z,{get when(){return e().length>0},get children(){return m(z,{get when(){return e().length>1},get fallback(){return m(jt,{get call(){return e()[0]}})},get children(){var n=Mi(),s=n.firstChild,r=s.firstChild,o=s.nextSibling;return b(s,()=>e().length,r),b(s,()=>Wi(e()),null),b(o,m(ae,{get each(){return e()},children:l=>m(jt,{call:l})})),S(l=>{var i=T.toolGroup,a=T.toolGroupInner;return i!==l.e&&x(n,l.e=i),a!==l.t&&x(o,l.t=a),l},{e:void 0,t:void 0}),n}})}})}function Ki(t){const e=[];return t.textCount>0&&e.push(t.textCount===1?"1 message":`${t.textCount} messages`),t.toolCount>0&&e.push(t.toolCount===1?"1 tool call":`${t.toolCount} tool calls`),e.length>0?e.join(", "):"empty turn"}function Xi(t){return(()=>{var e=Bi(),n=e.firstChild,s=n.nextSibling;return b(n,()=>Ki(t.turn)),b(s,m(ae,{get each(){return t.turn.groups},children:r=>m(We,{get children(){return[m(J,{get when(){return le(()=>r.kind==="ask")()&&r.ask},keyed:!0,children:o=>(()=>{var l=qi(),i=l.firstChild;return b(i,()=>{var a;return((a=o.questions[0])==null?void 0:a.question)??"Question"}),S(a=>{var c=T.askGroup,u=T.askText;return c!==a.e&&x(l,a.e=c),u!==a.t&&x(i,a.t=u),a},{e:void 0,t:void 0}),l})()}),m(J,{get when(){return r.kind==="tool"},get children(){return m(Cn,{get toolCalls(){return r.toolCalls}})}}),m(J,{get when(){return r.kind==="text"||r.kind==="other"},get children(){return m(ae,{get each(){return r.events},children:o=>m(Rn,{ev:o})})}})]}})})),S(r=>{var o=T.elidedTurn,l=T.elidedTurnInner;return o!==r.e&&x(e,r.e=o),l!==r.t&&x(s,r.t=l),r},{e:void 0,t:void 0}),e})()}function jt(t){const e=()=>{var s;return((s=t.call.result)==null?void 0:s.durationMs)??0},n=()=>{var s;return((s=t.call.result)==null?void 0:s.error)??""};return(()=>{var s=ji(),r=s.firstChild,o=r.nextSibling;return b(r,()=>t.call.use.name,null),b(r,m(z,{get when(){return e()>0},get children(){var l=An();return b(l,()=>Hi(e())),S(()=>x(l,T.toolDuration)),l}}),null),b(r,m(z,{get when(){return n()},get children(){var l=zi();return S(()=>x(l,T.toolError)),l}}),null),b(o,()=>JSON.stringify(t.call.use.input,null,2)),b(s,m(z,{get when(){return n()},get children(){var l=Di();return b(l,n),S(()=>x(l,T.toolErrorPre)),l}}),null),S(l=>{var i=T.toolBlock,a=T.toolBlockPre;return i!==l.e&&x(s,l.e=i),a!==l.t&&x(o,l.t=a),l},{e:void 0,t:void 0}),s})()}const Ji=new Tn({breaks:!0,gfm:!0});function Yi(t){const e=N(()=>Ji.parse(t.text));return(()=>{var n=ve();return S(s=>{var r=T.markdown,o=e();return r!==s.e&&x(n,s.e=r),o!==s.t&&(n.innerHTML=s.t=o),s},{e:void 0,t:void 0}),n})()}function el(t){const e=()=>t.ask.questions,[n,s]=Q(new Map),[r,o]=Q(new Map),[l,i]=Q(!1);function a(h,p,f){s(k=>{const _=new Map(k),w=new Set(_.get(h)??[]);return w.has(p)?w.delete(p):(f||w.clear(),w.add(p)),_.set(h,w),_})}function c(h,p){o(f=>{const k=new Map(f);return k.set(h,p),k})}function u(){const h=e(),p=[];for(let f=0;f<h.length;f++){const k=h[f],_=n().get(f)??new Set,w=[];for(const y of _)y==="__other__"?w.push(r().get(f)??""):w.push(y);const C=w.filter(y=>y.length>0).join(", ");h.length===1?p.push(C):p.push(`${k.header??`Q${f+1}`}: ${C}`)}return p.join(`
`)}function d(){const h=u();h.trim()&&(i(!0),t.onSubmit(h))}const g=()=>t.interactive&&!l();return(()=>{var h=ve();return b(h,m(ae,{get each(){return e()},children:(p,f)=>(()=>{var k=Fi(),_=k.firstChild,w=_.nextSibling,C=w.firstChild,y=C.firstChild;return b(k,m(z,{get when(){return p.header},get children(){var v=ve();return b(v,()=>p.header),S(()=>x(v,T.askHeader)),v}}),_),b(_,()=>p.question),b(w,m(ae,{get each(){return p.options},children:v=>{const A=()=>{var $;return(($=n().get(f()))==null?void 0:$.has(v.label))??!1};return(()=>{var $=Gi(),q=$.firstChild;return $.$$click=()=>a(f(),v.label,p.multiSelect??!1),b(q,()=>v.label),b($,m(z,{get when(){return v.description},get children(){var L=An();return b(L,()=>v.description),S(()=>x(L,T.askChipDesc)),L}}),null),S(L=>{var V=A()?`${T.askChip} ${T.askChipSelected}`:T.askChip,U=!g(),G=T.askChipLabel;return V!==L.e&&x($,L.e=V),U!==L.t&&($.disabled=L.t=U),G!==L.a&&x(q,L.a=G),L},{e:void 0,t:void 0,a:void 0}),$})()}}),C),C.$$click=()=>a(f(),"__other__",p.multiSelect??!1),b(k,m(z,{get when(){var v;return(v=n().get(f()))==null?void 0:v.has("__other__")},get children(){return m(Tt,{get class(){return T.askOtherInput},placeholder:"Type your answer...",get value(){return r().get(f())??""},onInput:v=>c(f(),v),get disabled(){return!g()}})}}),null),S(v=>{var G;var A=T.askQuestion,$=T.askText,q=T.askOptions,L=(G=n().get(f()))!=null&&G.has("__other__")?`${T.askChip} ${T.askChipSelected}`:T.askChip,V=!g(),U=T.askChipLabel;return A!==v.e&&x(k,v.e=A),$!==v.t&&x(_,v.t=$),q!==v.a&&x(w,v.a=q),L!==v.o&&x(C,v.o=L),V!==v.i&&(C.disabled=v.i=V),U!==v.n&&x(y,v.n=U),v},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),k})()}),null),b(h,m(z,{get when(){return g()},get children(){var p=Ni();return p.$$click=()=>d(),S(()=>x(p,T.askSubmit)),p}}),null),b(h,m(z,{get when(){return l()},get children(){var p=Ui();return S(()=>x(p,T.askSubmitted)),p}}),null),S(()=>x(h,g()?`${T.askGroup} ${T.askGroupActive}`:T.askGroup)),h})()}ke(["click"]);const tl="_card_5v4tb_3",nl="_selected_5v4tb_11",rl="_header_5v4tb_15",sl="_title_5v4tb_21",il="_stateGroup_5v4tb_29",ll="_badge_5v4tb_36",ol="_duration_5v4tb_45",al="_meta_5v4tb_52",cl="_repoLink_5v4tb_57",ul="_error_5v4tb_71",te={card:tl,selected:nl,header:rl,title:sl,stateGroup:il,badge:ll,duration:ol,meta:al,repoLink:cl,error:ul};var hl=I("<a target=_blank rel=noopener>"),rt=I("<div>"),dl=I("<div><div><strong></strong><span><span>"),fl=I("<span>");function gl(t){return(()=>{var e=dl(),n=e.firstChild,s=n.firstChild,r=s.nextSibling,o=r.firstChild;return e.$$click=()=>t.onClick(),b(s,()=>t.task),b(o,()=>t.state),b(r,m(z,{get when(){return le(()=>t.stateUpdatedAt>0)()&&t.state!=="terminated"},get children(){return m(pl,{get stateUpdatedAt(){return t.stateUpdatedAt},get now(){return t.now}})}}),null),b(e,m(z,{get when(){return t.repo||t.branch},get children(){var l=rt();return b(l,m(z,{get when(){return t.repoURL},get fallback(){return t.repo},get children(){var i=hl();return i.$$click=a=>a.stopPropagation(),b(i,()=>t.repo),S(a=>{var c=te.repoLink,u=t.repoURL;return c!==a.e&&x(i,a.e=c),u!==a.t&&Ce(i,"href",a.t=u),a},{e:void 0,t:void 0}),i}}),null),b(l,()=>t.repo&&t.branch?" · ":"",null),b(l,()=>t.branch,null),S(()=>x(l,te.meta)),l}}),null),b(e,m(z,{get when(){return t.claudeCodeVersion||t.model},get children(){var l=rt();return b(l,()=>t.claudeCodeVersion,null),b(l,()=>t.claudeCodeVersion&&t.model?" · ":"",null),b(l,()=>t.model,null),b(l,m(z,{get when(){return t.costUSD>0},get children(){return[" · ","$",le(()=>t.costUSD.toFixed(4))]}}),null),b(l,m(z,{get when(){return(t.containerUptimeMs??0)>0},get children(){return[" · ",le(()=>ml(t.containerUptimeMs??0))]}}),null),S(()=>x(l,te.meta)),l}}),null),b(e,m(z,{get when(){return t.error},get children(){var l=rt();return b(l,()=>t.error),S(()=>x(l,te.error)),l}}),null),S(l=>{var i=`${te.card} ${t.selected?te.selected:""}`,a=te.header,c=te.title,u=te.stateGroup,d=te.badge,g=bl(t.state);return i!==l.e&&x(e,l.e=i),a!==l.t&&x(n,l.t=a),c!==l.a&&x(s,l.a=c),u!==l.o&&x(r,l.o=u),d!==l.i&&x(o,l.i=d),g!==l.n&&lr(o,"background",l.n=g),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),e})()}function pl(t){const e=()=>Math.max(0,t.now()-t.stateUpdatedAt*1e3);return(()=>{var n=fl();return b(n,()=>kl(e())),S(()=>x(n,te.duration)),n})()}function kl(t){const e=Math.floor(t/1e3);if(e<60)return`${e}s`;const n=Math.floor(e/60);return n<60?`${n}m ${e%60}s`:`${Math.floor(n/60)}h ${n%60}m`}function ml(t){const e=Math.floor(t/1e3);if(e<60)return`${e}s`;const n=Math.floor(e/60);return n<60?`${n}m ${e%60}s`:`${Math.floor(n/60)}h ${n%60}m`}function bl(t){switch(t){case"running":return"#d4edda";case"asking":return"#cce5ff";case"failed":return"#f8d7da";case"terminating":return"#fde2c8";case"terminated":return"#e2e3e5";default:return"#fff3cd"}}ke(["click"]);const wl="_list_lqijf_3",xl="_narrow_lqijf_8",yl="_hidden_lqijf_12",vl="_header_lqijf_16",_l="_collapseBtn_lqijf_26",$l="_expandBtn_lqijf_41",Sl="_placeholder_lqijf_57",he={list:wl,narrow:xl,hidden:yl,header:vl,collapseBtn:_l,expandBtn:$l,placeholder:Sl};var Tl=I("<p>No tasks yet."),Al=I('<div><div><h2>Tasks</h2><button title="Collapse sidebar">&lsaquo;'),Rl=I('<button title="Expand sidebar">&rsaquo;');function Cl(t){const e=s=>s==="failed"||s==="terminated",n=()=>[...t.tasks()].sort((s,r)=>{const o=e(s.state)?1:0,l=e(r.state)?1:0;return o!==l?o-l:r.id>s.id?-1:r.id<s.id?1:0});return[(()=>{var s=Al(),r=s.firstChild,o=r.firstChild,l=o.nextSibling;return l.$$click=()=>t.setSidebarOpen(!1),b(s,m(z,{get when(){return t.tasks().length===0},get children(){var i=Tl();return S(()=>x(i,he.placeholder)),i}}),null),b(s,m(nn,{get each(){return n()},children:i=>m(gl,{get task(){return i().task},get state(){return i().state},get stateUpdatedAt(){return i().stateUpdatedAt},get repo(){return i().repo},get repoURL(){return i().repoURL},get branch(){return i().branch},get model(){return i().model},get claudeCodeVersion(){return i().claudeCodeVersion},get costUSD(){return i().costUSD},get durationMs(){return i().durationMs},get numTurns(){return i().numTurns},get containerUptimeMs(){return i().containerUptimeMs},get error(){return i().error},get selected(){return t.selectedId===i().id},get now(){return t.now},onClick:()=>t.onSelect(i().id)})}),null),S(i=>{var a=`${he.list} ${t.selectedId!==null?he.narrow:""} ${t.sidebarOpen()?"":he.hidden}`,c=he.header,u=he.collapseBtn;return a!==i.e&&x(s,i.e=a),c!==i.t&&x(r,i.t=c),u!==i.a&&x(l,i.a=u),i},{e:void 0,t:void 0,a:void 0}),s})(),m(z,{get when(){return!t.sidebarOpen()},get children(){var s=Rl();return s.$$click=()=>t.setSidebarOpen(!0),S(()=>x(s,he.expandBtn)),s}})]}ke(["click"]);function Pl(){"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()}function El(){return"Notification"in window&&Notification.permission==="granted"}function Il(t,e){if(!El()||document.visibilityState==="visible")return;const n=new Notification("Agent waiting for input",{body:`Task #${t}: ${e}`,tag:`wmao-waiting-${t}`});n.onclick=()=>{window.focus(),n.close()}}const Ll="_app_jrqvq_3",Ol="_titleRow_jrqvq_10",Ml="_title_jrqvq_10",Bl="_subtitle_jrqvq_23",ql="_reconnecting_jrqvq_28",zl="_submitForm_jrqvq_37",Dl="_repoSelect_jrqvq_44",jl="_promptInput_jrqvq_48",Nl="_layout_jrqvq_58",Ul="_placeholder_jrqvq_63",Fl="_detailPane_jrqvq_67",Gl="_backBtn_jrqvq_72",X={app:Ll,titleRow:Ol,title:Ml,subtitle:Bl,reconnecting:ql,submitForm:zl,repoSelect:Dl,promptInput:jl,layout:Nl,placeholder:Ul,detailPane:Fl,backBtn:Gl};var Ql=I("<div>Reconnecting to server..."),Vl=I("<div><button>&larr; Back</button><p>Task not found."),Zl=I("<div><div><h1>wmao</h1><span>Work my ass off. Manage coding agents.</span></div><form><select></select></form><div>"),Hl=I("<option>"),Wl=I("<div><button>&larr; Back");function Kl(){const t=yr(),e=vr(),[n,s]=Q(""),[r,o]=Q([]),[l,i]=Q(!1),[a,c]=Q([]),[u,d]=Q(""),[g,h]=Q(!0);let p=new Map;const[f,k]=Q(Date.now());{const A=setInterval(()=>k(Date.now()),1e3);ge(()=>clearInterval(A))}const _=()=>{const A="/task/";return e.pathname.startsWith(A)?e.pathname.slice(A.length):null},w=()=>{const A=_();return A!==null?r().find($=>$.id===A)??null:null};Bn(async()=>{Pl();const A=await Nr();if(c(A),A.length>0){const $=localStorage.getItem("wmao:lastRepo"),q=$&&A.find(L=>L.path===$);d(q?q.path:A[0].path)}});const[C,y]=Q(!0);{let A=function(){$=new EventSource("/api/v1/events"),$.addEventListener("open",()=>{y(!0),L=500,Ur().then(o).catch(()=>{})}),$.addEventListener("tasks",V=>{try{const U=JSON.parse(V.data);for(const G of U){const P=G.state==="waiting"||G.state==="asking",R=p.get(G.id)==="waiting"||p.get(G.id)==="asking";P&&!R&&Il(G.id,G.task)}p=new Map(U.map(G=>[G.id,G.state])),o(U)}catch{}}),$.onerror=()=>{y(!1),$==null||$.close(),$=null,q=setTimeout(A,L),L=Math.min(L*1.5,4e3)}},$=null,q=null,L=500;A(),ge(()=>{$==null||$.close(),q!==null&&clearTimeout(q)})}async function v(){const A=n().trim(),$=u();if(!(!A||!$)){i(!0),localStorage.setItem("wmao:lastRepo",$);try{const q=await Fr({prompt:A,repo:$});s(""),t(`/task/${q.id}`)}finally{i(!1)}}}return(()=>{var A=Zl(),$=A.firstChild,q=$.firstChild,L=q.nextSibling,V=$.nextSibling,U=V.firstChild,G=V.nextSibling;return b(A,m(z,{get when(){return!C()},get children(){var P=Ql();return S(()=>x(P,X.reconnecting)),P}}),V),V.addEventListener("submit",P=>{P.preventDefault(),v()}),U.addEventListener("change",P=>d(P.currentTarget.value)),b(U,m(ae,{get each(){return a()},children:P=>(()=>{var R=Hl();return b(R,()=>P.path),S(()=>R.value=P.path),R})()})),b(V,m(Tt,{get value(){return n()},onInput:s,onSubmit:v,placeholder:"Describe a task...",get disabled(){return l()},get class(){return X.promptInput}}),null),b(V,m(ye,{type:"submit",get disabled(){return l()||!n().trim()||!u()},get children(){return l()?"Submitting...":"Run"}}),null),b(G,m(Cl,{tasks:r,get selectedId(){return _()},sidebarOpen:g,setSidebarOpen:h,now:f,onSelect:P=>t(`/task/${P}`)}),null),b(G,m(We,{get children(){return[m(J,{get when(){return le(()=>e.pathname!=="/"&&w()===null)()&&r().length>0},get children(){var P=Vl(),R=P.firstChild,O=R.nextSibling;return R.$$click=()=>t("/"),S(E=>{var H=X.detailPane,Y=X.backBtn,ee=X.placeholder;return H!==E.e&&x(P,E.e=H),Y!==E.t&&x(R,E.t=Y),ee!==E.a&&x(O,E.a=ee),E},{e:void 0,t:void 0,a:void 0}),P}}),m(J,{get when(){return _()},keyed:!0,children:P=>(()=>{var R=Wl(),O=R.firstChild;return O.$$click=()=>t("/"),b(R,m(Qi,{taskId:P,get taskState(){var E;return((E=w())==null?void 0:E.state)??"pending"},get taskQuery(){var E;return((E=w())==null?void 0:E.task)??""},onClose:()=>t("/")}),null),S(E=>{var H=X.detailPane,Y=X.backBtn;return H!==E.e&&x(R,E.e=H),Y!==E.t&&x(O,E.t=Y),E},{e:void 0,t:void 0}),R})()})]}}),null),S(P=>{var R=X.app,O=X.titleRow,E=X.title,H=X.subtitle,Y=X.submitForm,ee=l(),we=X.repoSelect,oe=X.layout;return R!==P.e&&x(A,P.e=R),O!==P.t&&x($,P.t=O),E!==P.a&&x(q,P.a=E),H!==P.o&&x(L,P.o=H),Y!==P.i&&x(V,P.i=Y),ee!==P.n&&(U.disabled=P.n=ee),we!==P.s&&x(U,P.s=we),oe!==P.h&&x(G,P.h=oe),P},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),S(()=>U.value=u()),A})()}ke(["click"]);const Nt=document.getElementById("app");Nt&&tr(()=>m(Dr,{get children(){return m(Ir,{path:"*",component:Kl})}}),Nt);
