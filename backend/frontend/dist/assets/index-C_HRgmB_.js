(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();const Be=!1,Me=(e,t)=>e===t,Oe=Symbol("solid-track"),re={equals:Me};let we=Ce;const X=1,le=2,Se={owned:null,cleanups:null,context:null,owner:null};var T=null;let fe=null,Ne=null,x=null,P=null,J=null,ce=0;function se(e,t){const n=x,s=T,r=e.length===0,l=t===void 0?s:t,o=r?Se:{owned:null,cleanups:null,context:l?l.context:null,owner:l},i=r?e:()=>e(()=>K(()=>z(o)));T=o,x=null;try{return te(i,!0)}finally{x=n,T=s}}function H(e,t){t=t?Object.assign({},re,t):re;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),Ae(n,r));return[Te.bind(n),s]}function y(e,t,n){const s=pe(e,t,!1,X);ee(s)}function ke(e,t,n){we=Ue;const s=pe(e,t,!1,X);s.user=!0,J?J.push(s):ee(s)}function U(e,t,n){n=n?Object.assign({},re,n):re;const s=pe(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,ee(s),Te.bind(s)}function K(e){if(x===null)return e();const t=x;x=null;try{return e()}finally{x=t}}function Fe(e){ke(()=>K(e))}function xe(e){return T===null||(T.cleanups===null?T.cleanups=[e]:T.cleanups.push(e)),e}function Re(e){const t=U(e),n=U(()=>he(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function Te(){if(this.sources&&this.state)if(this.state===X)ee(this);else{const e=P;P=null,te(()=>oe(this),!1),P=e}if(x){const e=this.observers?this.observers.length:0;x.sources?(x.sources.push(this),x.sourceSlots.push(e)):(x.sources=[this],x.sourceSlots=[e]),this.observers?(this.observers.push(x),this.observerSlots.push(x.sources.length-1)):(this.observers=[x],this.observerSlots=[x.sources.length-1])}return this.value}function Ae(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&te(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],o=fe&&fe.running;o&&fe.disposed.has(l),(o?!l.tState:!l.state)&&(l.pure?P.push(l):J.push(l),l.observers&&Ee(l)),o||(l.state=X)}if(P.length>1e6)throw P=[],new Error},!1)),t}function ee(e){if(!e.fn)return;z(e);const t=ce;Ge(e,e.value,t)}function Ge(e,t,n){let s;const r=T,l=x;x=T=e;try{s=e.fn(t)}catch(o){return e.pure&&(e.state=X,e.owned&&e.owned.forEach(z),e.owned=null),e.updatedAt=n+1,Ie(o)}finally{x=l,T=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ae(e,s):e.value=s,e.updatedAt=n)}function pe(e,t,n,s=X,r){const l={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:T,context:T?T.context:null,pure:n};return T===null||T!==Se&&(T.owned?T.owned.push(l):T.owned=[l]),l}function ie(e){if(e.state===0)return;if(e.state===le)return oe(e);if(e.suspense&&K(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ce);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===X)ee(e);else if(e.state===le){const s=P;P=null,te(()=>oe(e,t[0]),!1),P=s}}function te(e,t){if(P)return e();let n=!1;t||(P=[]),J?n=!0:J=[],ce++;try{const s=e();return De(n),s}catch(s){n||(J=null),P=null,Ie(s)}}function De(e){if(P&&(Ce(P),P=null),e)return;const t=J;J=null,t.length&&te(()=>we(t),!1)}function Ce(e){for(let t=0;t<e.length;t++)ie(e[t])}function Ue(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:ie(s)}for(t=0;t<n;t++)ie(e[t])}function oe(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===X?s!==t&&(!s.updatedAt||s.updatedAt<ce)&&ie(s):r===le&&oe(s,t)}}}function Ee(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=le,n.pure?P.push(n):J.push(n),n.observers&&Ee(n))}}function z(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const l=r.pop(),o=n.observerSlots.pop();s<r.length&&(l.sourceSlots[o]=s,r[s]=l,n.observerSlots[s]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)z(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)z(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function je(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ie(e,t=T){throw je(e)}function he(e){if(typeof e=="function"&&!e.length)return he(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=he(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}const Ve=Symbol("fallback");function be(e){for(let t=0;t<e.length;t++)e[t]()}function He(e,t,n={}){let s=[],r=[],l=[],o=0,i=t.length>1?[]:null;return xe(()=>be(l)),()=>{let c=e()||[],f=c.length,d,u;return c[Oe],K(()=>{let A,N,_,C,B,k,w,p,E;if(f===0)o!==0&&(be(l),l=[],s=[],r=[],o=0,i&&(i=[])),n.fallback&&(s=[Ve],r[0]=se(F=>(l[0]=F,n.fallback())),o=1);else if(o===0){for(r=new Array(f),u=0;u<f;u++)s[u]=c[u],r[u]=se(M);o=f}else{for(_=new Array(f),C=new Array(f),i&&(B=new Array(f)),k=0,w=Math.min(o,f);k<w&&s[k]===c[k];k++);for(w=o-1,p=f-1;w>=k&&p>=k&&s[w]===c[p];w--,p--)_[p]=r[w],C[p]=l[w],i&&(B[p]=i[w]);for(A=new Map,N=new Array(p+1),u=p;u>=k;u--)E=c[u],d=A.get(E),N[u]=d===void 0?-1:d,A.set(E,u);for(d=k;d<=w;d++)E=s[d],u=A.get(E),u!==void 0&&u!==-1?(_[u]=r[d],C[u]=l[d],i&&(B[u]=i[d]),u=N[u],A.set(E,u)):l[d]();for(u=k;u<f;u++)u in _?(r[u]=_[u],l[u]=C[u],i&&(i[u]=B[u],i[u](u))):r[u]=se(M);r=r.slice(0,o=f),s=c.slice(0)}return r});function M(A){if(l[u]=A,i){const[N,_]=H(u);return i[u]=_,t(c[u],N)}return t(c[u])}}}function $(e,t){return K(()=>e(t||{}))}const Le=e=>`Stale read from <${e}>.`;function ae(e){const t="fallback"in e&&{fallback:()=>e.fallback};return U(He(()=>e.each,e.children,t||void 0))}function O(e){const t=e.keyed,n=U(()=>e.when,void 0,void 0),s=t?n:U(n,void 0,{equals:(r,l)=>!r==!l});return U(()=>{const r=s();if(r){const l=e.children;return typeof l=="function"&&l.length>0?K(()=>l(t?r:()=>{if(!K(s))throw Le("Show");return n()})):l}return e.fallback},void 0,void 0)}function qe(e){const t=Re(()=>e.children),n=U(()=>{const s=t(),r=Array.isArray(s)?s:[s];let l=()=>{};for(let o=0;o<r.length;o++){const i=o,c=r[o],f=l,d=U(()=>f()?void 0:c.when,void 0,void 0),u=c.keyed?d:U(d,void 0,{equals:(M,A)=>!M==!A});l=()=>f()||(u()?[i,d,c]:void 0)}return l});return U(()=>{const s=n()();if(!s)return e.fallback;const[r,l,o]=s,i=o.children;return typeof i=="function"&&i.length>0?K(()=>i(o.keyed?l():()=>{var f;if(((f=K(n)())==null?void 0:f[0])!==r)throw Le("Match");return l()})):i},void 0,void 0)}function Z(e){return e}const We=e=>U(()=>e());function Je(e,t,n){let s=n.length,r=t.length,l=s,o=0,i=0,c=t[r-1].nextSibling,f=null;for(;o<r||i<l;){if(t[o]===n[i]){o++,i++;continue}for(;t[r-1]===n[l-1];)r--,l--;if(r===o){const d=l<s?i?n[i-1].nextSibling:n[l-i]:c;for(;i<l;)e.insertBefore(n[i++],d)}else if(l===i)for(;o<r;)(!f||!f.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[l-1]&&n[i]===t[r-1]){const d=t[--r].nextSibling;e.insertBefore(n[i++],t[o++].nextSibling),e.insertBefore(n[--l],d),t[r]=n[l]}else{if(!f){f=new Map;let u=i;for(;u<l;)f.set(n[u],u++)}const d=f.get(t[o]);if(d!=null)if(i<d&&d<l){let u=o,M=1,A;for(;++u<r&&u<l&&!((A=f.get(t[u]))==null||A!==d+M);)M++;if(M>d-i){const N=t[o];for(;i<d;)e.insertBefore(n[i++],N)}else e.replaceChild(n[i++],t[o++])}else o++;else t[o++].remove()}}}const me="_$DX_DELEGATE";function Ke(e,t,n,s={}){let r;return se(l=>{r=l,t===document?e():h(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function I(e,t,n,s){let r;const l=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},o=()=>(r||(r=l())).cloneNode(!0);return o.cloneNode=o,o}function Pe(e,t=window.document){const n=t[me]||(t[me]=new Set);for(let s=0,r=e.length;s<r;s++){const l=e[s];n.has(l)||(n.add(l),t.addEventListener(l,Qe))}}function g(e,t){t==null?e.removeAttribute("class"):e.className=t}function ve(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function h(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return ue(e,t,s,n);y(r=>ue(e,t(),r,n),s)}function Qe(e){let t=e.target;const n=`$$${e.type}`,s=e.target,r=e.currentTarget,l=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),o=()=>{const c=t[n];if(c&&!t.disabled){const f=t[`${n}Data`];if(f!==void 0?c.call(t,f,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},i=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();l(c[0]);for(let f=0;f<c.length-2&&(t=c[f],!!o());f++){if(t._$host){t=t._$host,i();break}if(t.parentNode===r)break}}else i();l(s)}function ue(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===n))return n;if(o){let i=n[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),n=Y(e,n,s,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean")n=Y(e,n,s);else{if(l==="function")return y(()=>{let i=t();for(;typeof i=="function";)i=i();n=ue(e,i,n,s)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(ge(i,t,n,r))return y(()=>n=ue(e,i,n,s,!0)),()=>n;if(i.length===0){if(n=Y(e,n,s),o)return n}else c?n.length===0?ye(e,i,s):Je(e,n,i):(n&&Y(e),ye(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=Y(e,n,s,t);Y(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ge(e,t,n,s){let r=!1;for(let l=0,o=t.length;l<o;l++){let i=t[l],c=n&&n[e.length],f;if(!(i==null||i===!0||i===!1))if((f=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=ge(e,i,c)||r;else if(f==="function")if(s){for(;typeof i=="function";)i=i();r=ge(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else e.push(i),r=!0;else{const d=String(i);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return r}function ye(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function Y(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(r!==i){const c=i.parentNode===e;!l&&!o?c?e.replaceChild(r,i):e.insertBefore(r,n):c&&i.remove()}else l=!0}}else e.insertBefore(r,n);return[r]}class Xe extends Error{constructor(t,n,s){super(n),this.status=t,this.code=n,this.details=s}}async function Q(e,t,n){const s={method:e,headers:{"Content-Type":"application/json"}};n!==void 0&&(s.body=JSON.stringify(n));const r=await fetch(t,s);if(!r.ok){const l=await r.json();throw new Xe(r.status,l.error.code,l.details)}return r.json()}function Ye(){return Q("GET","/api/v1/repos")}function Ze(){return Q("GET","/api/v1/tasks")}function ze(e){return Q("POST","/api/v1/tasks",e)}function et(e){return new EventSource(`/api/v1/tasks/${e}/events`)}function tt(e,t){return Q("POST",`/api/v1/tasks/${e}/input`,t)}function nt(e){return Q("POST",`/api/v1/tasks/${e}/finish`)}function st(e){return Q("POST",`/api/v1/tasks/${e}/end`)}function rt(e){return Q("POST",`/api/v1/tasks/${e}/pull`)}function lt(e){return Q("POST",`/api/v1/tasks/${e}/push`)}function it(e){return Q("POST",`/api/v1/tasks/${e}/reconnect`)}const ot="_container_p7pf0_3",at="_header_p7pf0_9",ut="_closeBtn_p7pf0_20",ct="_messageArea_p7pf0_24",ft="_placeholder_p7pf0_35",dt="_inputForm_p7pf0_39",ht="_textInput_p7pf0_45",gt="_btn_p7pf0_50",pt="_btnGray_p7pf0_58",_t="_btnGreen_p7pf0_62",bt="_btnRed_p7pf0_66",mt="_systemInit_p7pf0_70",vt="_systemMsg_p7pf0_76",yt="_assistantMsg_p7pf0_82",$t="_textBlock_p7pf0_86",wt="_result_p7pf0_91",St="_resultSuccess_p7pf0_98",kt="_resultError_p7pf0_102",xt="_resultMeta_p7pf0_106",Tt="_resultText_p7pf0_112",At="_toolResult_p7pf0_117",Ct="_toolBlock_p7pf0_127",Et="_toolBlockPre_p7pf0_139",v={container:ot,header:at,closeBtn:ut,messageArea:ct,placeholder:ft,inputForm:dt,textInput:ht,btn:gt,btnGray:pt,btnGreen:_t,btnRed:bt,systemInit:mt,systemMsg:vt,assistantMsg:yt,textBlock:$t,result:wt,resultSuccess:St,resultError:kt,resultMeta:xt,resultText:Tt,toolResult:At,toolBlock:Ct,toolBlockPre:Et};var It=I("<p>Waiting for agent output..."),Lt=I("<button type=button>Finish"),Pt=I("<button type=button>Reconnect"),Bt=I('<form><input type=text placeholder="Send message to agent..."><button type=submit>Send</button><button type=button>Pull</button><button type=button>Push</button><button type=button>End'),Mt=I("<div><div><h3>Task #</h3><button>Close</button></div><div>"),Ot=I("<div>Session started &middot; <!> &middot; "),Nt=I("<div>[<!>]"),de=I("<div>"),Ft=I("<div>$<!> &middot; <!>s &middot; <!> turns"),Rt=I("<div><strong>"),Gt=I("<details><summary>tool result"),Dt=I("<details><summary></summary><pre>");function Ut(e){const[t,n]=H([]),[s,r]=H(""),[l,o]=H(!1);ke(()=>{const _=e.taskId;n([]);const C=et(_);C.addEventListener("message",B=>{try{const k=JSON.parse(B.data);n(w=>[...w,k])}catch{}}),xe(()=>C.close())});async function i(){const _=s().trim();if(_){o(!0);try{await tt(e.taskId,{prompt:_}),r("")}finally{o(!1)}}}const c=()=>{const _=e.taskState;return _==="running"||_==="starting"||_==="waiting"},f=()=>e.taskState==="waiting";async function d(){await nt(e.taskId)}async function u(){await rt(e.taskId)}async function M(){await lt(e.taskId)}async function A(){await st(e.taskId)}async function N(){await it(e.taskId)}return(()=>{var _=Mt(),C=_.firstChild,B=C.firstChild;B.firstChild;var k=B.nextSibling,w=C.nextSibling;return h(B,()=>e.taskId,null),k.$$click=()=>e.onClose(),h(w,$(ae,{get each(){return t()},children:p=>$(jt,{msg:p})}),null),h(w,$(O,{get when(){return t().length===0},get children(){var p=It();return y(()=>g(p,v.placeholder)),p}}),null),h(_,$(O,{get when(){return c()},get children(){var p=Bt(),E=p.firstChild,F=E.nextSibling,R=F.nextSibling,a=R.nextSibling,S=a.nextSibling;return p.addEventListener("submit",m=>{m.preventDefault(),i()}),E.$$input=m=>r(m.currentTarget.value),R.$$click=()=>u(),a.$$click=()=>M(),h(p,$(O,{get when(){return f()},get children(){return[(()=>{var m=Lt();return m.$$click=()=>d(),y(()=>g(m,`${v.btn} ${v.btnGreen}`)),m})(),(()=>{var m=Pt();return m.$$click=()=>N(),y(()=>g(m,`${v.btn} ${v.btnGray}`)),m})()]}}),S),S.$$click=()=>A(),y(m=>{var q=v.inputForm,W=l(),b=v.textInput,j=l()||!s().trim(),G=`${v.btn} ${v.btnGray}`,V=`${v.btn} ${v.btnGray}`,D=`${v.btn} ${v.btnRed}`;return q!==m.e&&g(p,m.e=q),W!==m.t&&(E.disabled=m.t=W),b!==m.a&&g(E,m.a=b),j!==m.o&&(F.disabled=m.o=j),G!==m.i&&g(R,m.i=G),V!==m.n&&g(a,m.n=V),D!==m.s&&g(S,m.s=D),m},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),y(()=>E.value=s()),p}}),null),y(p=>{var E=v.container,F=v.header,R=v.closeBtn,a=v.messageArea;return E!==p.e&&g(_,p.e=E),F!==p.t&&g(C,p.t=F),R!==p.a&&g(k,p.a=R),a!==p.o&&g(w,p.o=a),p},{e:void 0,t:void 0,a:void 0,o:void 0}),_})()}function jt(e){return $(qe,{get children(){return[$(Z,{get when(){return We(()=>e.msg.type==="system")()&&e.msg.subtype==="init"},get children(){var t=Ot(),n=t.firstChild,s=n.nextSibling;return s.nextSibling,h(t,()=>e.msg.model,s),h(t,()=>e.msg.claude_code_version,null),y(()=>g(t,v.systemInit)),t}}),$(Z,{get when(){return e.msg.type==="system"},get children(){var t=Nt(),n=t.firstChild,s=n.nextSibling;return s.nextSibling,h(t,()=>e.msg.subtype,s),y(()=>g(t,v.systemMsg)),t}}),$(Z,{get when(){return e.msg.type==="assistant"},get children(){var t=de();return h(t,$(ae,{get each(){var n;return((n=e.msg.message)==null?void 0:n.content)??[]},children:n=>$(O,{get when(){return n.type==="text"},get fallback(){return $(Vt,{get name(){return n.name??"tool"},get input(){return n.input}})},get children(){var s=de();return h(s,()=>n.text),y(()=>g(s,v.textBlock)),s}})})),y(()=>g(t,v.assistantMsg)),t}}),$(Z,{get when(){return e.msg.type==="result"},get children(){var t=Rt(),n=t.firstChild;return h(n,()=>e.msg.is_error?"Error":"Done"),h(t,$(O,{get when(){return e.msg.result},get children(){var s=de();return h(s,()=>e.msg.result),y(()=>g(s,v.resultText)),s}}),null),h(t,$(O,{get when(){return e.msg.total_cost_usd},get children(){var s=Ft(),r=s.firstChild,l=r.nextSibling,o=l.nextSibling,i=o.nextSibling,c=i.nextSibling,f=c.nextSibling;return f.nextSibling,h(s,()=>{var d;return(d=e.msg.total_cost_usd)==null?void 0:d.toFixed(4)},l),h(s,()=>((e.msg.duration_ms??0)/1e3).toFixed(1),i),h(s,()=>e.msg.num_turns,f),y(()=>g(s,v.resultMeta)),s}}),null),y(()=>g(t,`${v.result} ${e.msg.is_error?v.resultError:v.resultSuccess}`)),t}}),$(Z,{get when(){return e.msg.type==="user"},get children(){var t=Gt();return y(()=>g(t,v.toolResult)),t}})]}})}function Vt(e){return(()=>{var t=Dt(),n=t.firstChild,s=n.nextSibling;return h(n,()=>e.name),h(s,()=>JSON.stringify(e.input,null,2)),y(r=>{var l=v.toolBlock,o=v.toolBlockPre;return l!==r.e&&g(t,r.e=l),o!==r.t&&g(s,r.t=o),r},{e:void 0,t:void 0}),t})()}Pe(["click","input"]);const Ht="_app_otn3a_3",qt="_submitForm_otn3a_10",Wt="_repoSelect_otn3a_17",Jt="_promptInput_otn3a_21",Kt="_layout_otn3a_26",Qt="_placeholder_otn3a_31",Xt="_taskCard_otn3a_35",Yt="_taskCardSelected_otn3a_43",Zt="_taskHeader_otn3a_47",zt="_taskTitle_otn3a_52",en="_stateBadge_otn3a_56",tn="_repoLabel_otn3a_62",nn="_branchLabel_otn3a_67",sn="_costLabel_otn3a_72",rn="_errorLabel_otn3a_77",ln="_detailPane_otn3a_82",L={app:Ht,submitForm:qt,repoSelect:Wt,promptInput:Jt,layout:Kt,placeholder:Qt,taskCard:Xt,taskCardSelected:Yt,taskHeader:Zt,taskTitle:zt,stateBadge:en,repoLabel:tn,branchLabel:nn,costLabel:sn,errorLabel:rn,detailPane:ln};var on=I("<p>No tasks yet."),ne=I("<div>"),an=I('<div><h1>wmao</h1><p>Work my ass off. Manage coding agents.</p><form><select></select><input type=text placeholder="Describe a task..."><button type=submit></button></form><div><div><h2>Tasks'),un=I("<option>"),cn=I("<span>$<!> &middot; <!>s"),fn=I("<div><div><strong></strong><span>");function dn(){const[e,t]=H(""),[n,s]=H([]),[r,l]=H(!1),[o,i]=H(null),[c,f]=H([]),[d,u]=H("");Fe(async()=>{const _=await Ye();f(_),_.length>0&&u(_[0].path)});async function M(){const _=e().trim(),C=d();if(!(!_||!C)){l(!0);try{const B=await ze({prompt:_,repo:C});t(""),await A(),i(B.id)}finally{l(!1)}}}async function A(){s(await Ze())}setInterval(A,5e3),A();const N=()=>{const _=o();return _===null?null:n().find(C=>C.id===_)??null};return(()=>{var _=an(),C=_.firstChild,B=C.nextSibling,k=B.nextSibling,w=k.firstChild,p=w.nextSibling,E=p.nextSibling,F=k.nextSibling,R=F.firstChild;return R.firstChild,k.addEventListener("submit",a=>{a.preventDefault(),M()}),w.addEventListener("change",a=>u(a.currentTarget.value)),h(w,$(ae,{get each(){return c()},children:a=>(()=>{var S=un();return h(S,()=>a.path),y(()=>S.value=a.path),S})()})),p.$$input=a=>t(a.currentTarget.value),h(E,()=>r()?"Submitting...":"Run"),h(R,$(O,{get when(){return n().length===0},get children(){var a=on();return y(()=>g(a,L.placeholder)),a}}),null),h(R,$(ae,{get each(){return n()},children:a=>(()=>{var S=fn(),m=S.firstChild,q=m.firstChild,W=q.nextSibling;return S.$$click=()=>i(a.id),h(q,()=>a.task),h(W,()=>a.state),h(S,$(O,{get when(){return a.repo},get children(){var b=ne();return h(b,()=>a.repo),y(()=>g(b,L.repoLabel)),b}}),null),h(S,$(O,{get when(){return a.branch},get children(){var b=ne();return h(b,()=>a.branch),y(()=>g(b,L.branchLabel)),b}}),null),h(S,$(O,{get when(){return a.costUSD>0},get children(){var b=cn(),j=b.firstChild,G=j.nextSibling,V=G.nextSibling,D=V.nextSibling;return D.nextSibling,h(b,()=>a.costUSD.toFixed(4),G),h(b,()=>(a.durationMs/1e3).toFixed(1),D),y(()=>g(b,L.costLabel)),b}}),null),h(S,$(O,{get when(){return a.error},get children(){var b=ne();return h(b,()=>a.error),y(()=>g(b,L.errorLabel)),b}}),null),y(b=>{var j=`${L.taskCard} ${o()===a.id?L.taskCardSelected:""}`,G=L.taskHeader,V=L.taskTitle,D=L.stateBadge,_e=hn(a.state);return j!==b.e&&g(S,b.e=j),G!==b.t&&g(m,b.t=G),V!==b.a&&g(q,b.a=V),D!==b.o&&g(W,b.o=D),_e!==b.i&&ve(W,"background",b.i=_e),b},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),S})()}),null),h(F,$(O,{get when(){return o()!==null},get children(){var a=ne();return h(a,$(Ut,{get taskId(){return o()??0},get taskState(){var S;return((S=N())==null?void 0:S.state)??"pending"},onClose:()=>i(null)})),y(()=>g(a,L.detailPane)),a}}),null),y(a=>{var S=L.app,m=L.submitForm,q=r(),W=L.repoSelect,b=r(),j=L.promptInput,G=r()||!e().trim()||!d(),V=L.layout,D=o()!==null?"0 0 340px":"1";return S!==a.e&&g(_,a.e=S),m!==a.t&&g(k,a.t=m),q!==a.a&&(w.disabled=a.a=q),W!==a.o&&g(w,a.o=W),b!==a.i&&(p.disabled=a.i=b),j!==a.n&&g(p,a.n=j),G!==a.s&&(E.disabled=a.s=G),V!==a.h&&g(F,a.h=V),D!==a.r&&ve(R,"flex",a.r=D),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),y(()=>w.value=d()),y(()=>p.value=e()),_})()}function hn(e){switch(e){case"done":return"#d4edda";case"failed":return"#f8d7da";case"ended":return"#e2e3e5";default:return"#fff3cd"}}Pe(["input","click"]);const $e=document.getElementById("app");$e&&Ke(()=>$(dn,{}),$e);
