# Backend Guidelines

Go backend for wmao. Packages under `internal/` are private.

## Conventions

- `CGO_ENABLED=0` for all builds.
- Pass `context.Context` through all call chains.
- Serialize git operations that touch the working directory (branch checkout, push).

<!-- BEGIN FILE INDEX -->
## File Index

Autogenerated file index based on first-line comments.

- `frontend/frontend.go`: Package frontend embeds the built frontend assets.
- `internal/agent/agent.go`: Package agent manages Claude Code processes via the streaming JSON protocol.
- `internal/container/container.go`: Package container wraps md CLI operations for container lifecycle management.
- `internal/gitutil/git.go`: Package gitutil provides git operations for branch management and pushing.
- `internal/server/server.go`: Package server provides the HTTP server serving the API and embedded
- `internal/task/task.go`: Package task orchestrates a single coding agent task: branch creation,
<!-- END FILE INDEX -->
